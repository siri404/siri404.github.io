<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BigFrontend.dev Questions</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/dracula.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        /* Custom styling for CodeMirror to ensure rounded corners and better fit */
        .CodeMirror {
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid #e2e8f0; /* border-gray-200 */
            height: 300px; /* Fixed height for the editor */
            font-size: 0.875rem; /* text-sm */
        }
        .CodeMirror-scroll {
            border-radius: 0.5rem; /* rounded-lg */
        }
        .CodeMirror-gutters {
            border-radius: 0.5rem 0 0 0.5rem;
        }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 sm:p-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-6 text-center">BigFrontend.dev Questions</h1>

        <div id="filter-controls" class="mb-6 flex flex-wrap items-center gap-2">
            <!-- Tags and filter controls will be rendered here -->
        </div>

        <div id="questions-container" class="space-y-4">
            <!-- Content will be loaded here by JavaScript -->
            <p class="text-center text-gray-500">Loading content...</p>
        </div>
    </div>

    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/selection/active-line.min.js"></script>

    <script>
        // JSON data for the questions
        const questionsData = [
            {
                "id": 1,
                "name": "curry()",
                "description": "Implement a `curry()` function.",
                "test_cases": [
                    {
                        "description": "Basic currying",
                        "input": "const add = (a, b, c) => a + b + c; const curriedAdd = curry(add); curriedAdd(1)(2)(3);",
                        "expected_output": "6"
                    },
                    {
                        "description": "Partial application",
                        "input": "const multiply = (a, b) => a * b; const curriedMultiply = curry(multiply); curriedMultiply(2)(5);",
                        "expected_output": "10"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-curry",
                "boilerplate": `function curry(func) {
  // Your code here
}

// Example usage:
const add = (a, b, c) => a + b + c;
const curriedAdd = curry(add);

console.log(curriedAdd(1)(2)(3)); // Should output 6
console.log(curriedAdd(1, 2)(3)); // Should output 6
console.log(curriedAdd(1)(2, 3)); // Should output 6
console.log(curriedAdd(1, 2, 3)); // Should output 6
`,
                "tags": ["Function", "Currying", "JavaScript"]
            },
            {
                "id": 2,
                "name": "flat()",
                "description": "Implement `Array.prototype.flat()`.",
                "test_cases": [
                    {
                        "description": "Simple flattening",
                        "input": "[1, [2, 3], 4].flat()",
                        "expected_output": "[1, 2, 3, 4]"
                    },
                    {
                        "description": "Nested flattening with depth",
                        "input": "[1, [2, [3, 4]], 5].flat(2)",
                        "expected_output": "[1, 2, 3, 4, 5]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Array-prototype-flat",
                "boilerplate": `Array.prototype.flat = function(depth = 1) {
  // Your code here
};

// Example usage:
const arr1 = [1, [2, 3], 4];
console.log(arr1.flat()); // Should output [1, 2, 3, 4]

const arr2 = [1, [2, [3, 4]], 5];
console.log(arr2.flat(2)); // Should output [1, 2, 3, 4, 5]
`,
                "tags": ["Array", "JavaScript"]
            },
            {
                "id": 3,
                "name": "throttle()",
                "description": "Implement a `throttle()` function.",
                "test_cases": [
                    {
                        "description": "Throttling a function call",
                        "input": "let count = 0; const throttledIncrement = throttle(() => count++, 100); throttledIncrement(); throttledIncrement(); setTimeout(() => throttledIncrement(), 50); setTimeout(() => throttledIncrement(), 150);",
                        "expected_output": "count will be 2 after ~200ms"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-throttle",
                "boilerplate": `function throttle(func, delay) {
  // Your code here
}

// Example usage (requires manual testing with events):
let count = 0;
const increment = () => {
  count++;
  console.log('Function called, count:', count);
};

const throttledIncrement = throttle(increment, 500);

// Simulate rapid calls
throttledIncrement(); // Called immediately
setTimeout(throttledIncrement, 100);
setTimeout(throledIncrement, 200);
setTimeout(throttledIncrement, 600); // Called after 500ms
setTimeout(throttledIncrement, 700);
`,
                "tags": ["Function", "Debounce/Throttle", "JavaScript", "Async"]
            },
            {
                "id": 4,
                "name": "debounce()",
                "description": "Implement a `debounce()` function.",
                "test_cases": [
                    {
                        "description": "Debouncing a function call",
                        "input": "let count = 0; const debouncedIncrement = debounce(() => count++, 100); debouncedIncrement(); debouncedIncrement(); setTimeout(() => debouncedIncrement(), 50); setTimeout(() => debouncedIncrement(), 150);",
                        "expected_output": "count will be 1 after ~250ms"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-debounce",
                "boilerplate": `function debounce(func, delay) {
  // Your code here
}

// Example usage (requires manual testing with events):
let count = 0;
const increment = () => {
  count++;
  console.log('Function called, count:', count);
};

const debouncedIncrement = debounce(increment, 300);

// Simulate rapid calls, only the last one should trigger
debouncedIncrement();
debouncedIncrement();
setTimeout(debouncedIncrement, 100);
setTimeout(debouncedIncrement, 200);
setTimeout(debouncedIncrement, 400); // This should be the only one that executes
`,
                "tags": ["Function", "Debounce/Throttle", "JavaScript", "Async"]
            },
            {
                "id": 5,
                "name": "JSON.stringify()",
                "description": "Implement `JSON.stringify()`.",
                "test_cases": [
                    {
                        "description": "Stringify an object",
                        "input": "JSON.stringify({a: 1, b: 'hello'})",
                        "expected_output": "{\"a\":1,\"b\":\"hello\"}"
                    },
                    {
                        "description": "Stringify an array",
                        "input": "JSON.stringify([1, 'test', true])",
                        "expected_output": "[1,\"test\",true]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-JSON-stringify",
                "boilerplate": `function jsonStringify(data) {
  // Your code here
}

// Example usage:
console.log(jsonStringify({a: 1, b: 'hello', c: [1,2,3], d: null, e: true}));
console.log(jsonStringify([1, 'test', true, {key: 'value'}]));
console.log(jsonStringify(null));
console.log(jsonStringify(123));
console.log(jsonStringify("hello"));
`,
                "tags": ["JSON", "JavaScript"]
            },
            {
                "id": 6,
                "name": "JSON.parse()",
                "description": "Implement `JSON.parse()`.",
                "test_cases": [
                    {
                        "description": "Parse a JSON string",
                        "input": "JSON.parse('{\"a\":1,\"b\":\"hello\"}')",
                        "expected_output": "{a: 1, b: 'hello'}"
                    },
                    {
                        "description": "Parse a JSON array string",
                        "input": "JSON.parse('[1,\"test\",true]')",
                        "expected_output": "[1, 'test', true]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-JSON-parse",
                "boilerplate": `function jsonParse(jsonString) {
  // Your code here
}

// Example usage:
console.log(jsonParse('{"a":1,"b":"hello","c":[1,2,3],"d":null,"e":true}'));
console.log(jsonParse('[1,"test",true,{"key":"value"}]'));
console.log(jsonParse('null'));
console.log(jsonParse('123'));
console.log(jsonParse('"hello"'));
`,
                "tags": ["JSON", "JavaScript"]
            },
            {
                "id": 7,
                "name": "Promise.all()",
                "description": "Implement `Promise.all()`.",
                "test_cases": [
                    {
                        "description": "All promises resolve",
                        "input": "Promise.all([Promise.resolve(1), Promise.resolve(2)])",
                        "expected_output": "[1, 2]"
                    },
                    {
                        "description": "One promise rejects",
                        "input": "Promise.all([Promise.resolve(1), Promise.reject('error')])",
                        "expected_output": "Rejects with 'error'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Promise-all",
                "boilerplate": `Promise.myAll = function(promises) {
  // Your code here
};

// Example usage:
const p1 = Promise.resolve(3);
const p2 = 42;
const p3 = new Promise((resolve, reject) => {
  setTimeout(resolve, 100, 'foo');
});

Promise.myAll([p1, p2, p3]).then(values => {
  console.log(values); // Expected: [3, 42, "foo"]
});

const p4 = new Promise((resolve, reject) => {
  setTimeout(reject, 50, 'bar');
});

Promise.myAll([p1, p4]).catch(error => {
  console.error(error); // Expected: "bar"
});
`,
                "tags": ["Promise", "Async", "JavaScript"]
            },
            {
                "id": 8,
                "name": "Object.assign()",
                "description": "Implement `Object.assign()`.",
                "test_cases": [
                    {
                        "description": "Basic assignment",
                        "input": "Object.assign({}, {a: 1}, {b: 2})",
                        "expected_output": "{a: 1, b: 2}"
                    },
                    {
                        "description": "Overwriting properties",
                        "input": "Object.assign({a: 1}, {a: 2, b: 3})",
                        "expected_output": "{a: 2, b: 3}"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Object-assign",
                "boilerplate": `Object.myAssign = function(target, ...sources) {
  // Your code here
};

// Example usage:
const obj1 = { a: 1 };
const obj2 = { b: 2 };
const obj3 = { c: 3 };

const result1 = Object.myAssign(obj1, obj2, obj3);
console.log(result1); // Expected: { a: 1, b: 2, c: 3 }
console.log(obj1); // Expected: { a: 1, b: 2, c: 3 } (target is modified)

const result2 = Object.myAssign({}, { a: 1 }, { a: 2, b: 3 });
console.log(result2); // Expected: { a: 2, b: 3 }
`,
                "tags": ["Object", "JavaScript"]
            },
            {
                "id": 9,
                "name": "_.once()",
                "description": "Implement `_.once()` from Lodash.",
                "test_cases": [
                    {
                        "description": "Function called only once",
                        "input": "let count = 0; const incrementOnce = _.once(() => count++); incrementOnce(); incrementOnce();",
                        "expected_output": "count will be 1"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-lodash-once",
                "boilerplate": `function once(func) {
  // Your code here
}

// Example usage:
let count = 0;
const increment = () => {
  count++;
  console.log('Function executed, count:', count);
};

const incrementOnce = once(increment);

incrementOnce(); // First call, function executes
incrementOnce(); // Second call, function does not execute
incrementOnce(); // Third call, function does not execute

console.log('Final count:', count); // Expected: Final count: 1
`,
                "tags": ["Function", "Lodash", "JavaScript"]
            },
            {
                "id": 10,
                "name": "_.cloneDeep()",
                "description": "Implement `_.cloneDeep()` from Lodash.",
                "test_cases": [
                    {
                        "description": "Deep cloning an object",
                        "input": "const obj = {a: 1, b: {c: 2}}; const clonedObj = _.cloneDeep(obj); clonedObj.b.c = 3; console.log(obj.b.c);",
                        "expected_output": "2 (original remains unchanged)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-lodash-clonedeep",
                "boilerplate": `function cloneDeep(value) {
  // Your code here
}

// Example usage:
const obj1 = {
  a: 1,
  b: {
    c: 2,
    d: [3, { e: 4 }]
  },
  f: null,
  g: undefined,
  h: new Date(),
  i: () => console.log('hello')
};

const clonedObj1 = cloneDeep(obj1);

console.log('Original obj1:', obj1);
console.log('Cloned obj1:', clonedObj1);

// Modify cloned object
clonedObj1.b.c = 99;
clonedObj1.b.d[1].e = 100;
clonedObj1.h.setFullYear(2000);

console.log('Modified clonedObj1:', clonedObj1);
console.log('Original obj1 after modification:', obj1); // Should remain unchanged
`,
                "tags": ["Object", "Lodash", "JavaScript"]
            },
            {
                "id": 11,
                "name": "_.isEqual()",
                "description": "Implement `_.isEqual()` from Lodash.",
                "test_cases": [
                    {
                        "description": "Comparing simple objects",
                        "input": "_.isEqual({a: 1}, {a: 1})",
                        "expected_output": "true"
                    },
                    {
                        "description": "Comparing nested objects",
                        "input": "_.isEqual({a: {b: 1}}, {a: {b: 1}})",
                        "expected_output": "true"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-lodash-isEqual",
                "boilerplate": `function isEqual(value, other) {
  // Your code here
}

// Example usage:
console.log(isEqual({a: 1, b: {c: 2}}, {a: 1, b: {c: 2}})); // Expected: true
console.log(isEqual({a: 1, b: {c: 2}}, {a: 1, b: {c: 3}})); // Expected: false
console.log(isEqual([1, {a: 1}], [1, {a: 1}])); // Expected: true
console.log(isEqual(1, 1)); // Expected: true
console.log(isEqual(null, null)); // Expected: true
console.log(isEqual(NaN, NaN)); // Expected: true
`,
                "tags": ["Object", "Lodash", "JavaScript"]
            },
            {
                "id": 12,
                "name": "Event Emitter",
                "description": "Implement an Event Emitter.",
                "test_cases": [
                    {
                        "description": "Basic emit and on",
                        "input": "const emitter = new EventEmitter(); let count = 0; emitter.on('foo', () => count++); emitter.emit('foo');",
                        "expected_output": "count will be 1"
                    },
                    {
                        "description": "Off method",
                        "input": "const emitter = new EventEmitter(); let count = 0; const handler = () => count++; emitter.on('bar', handler); emitter.emit('bar'); emitter.off('bar', handler); emitter.emit('bar');",
                        "expected_output": "count will be 1"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Event-Emitter",
                "boilerplate": `class EventEmitter {
  constructor() {
    // Your code here
  }

  on(eventName, listener) {
    // Your code here
  }

  off(eventName, listener) {
    // Your code here
  }

  emit(eventName, ...args) {
    // Your code here
  }
}

// Example usage:
const emitter = new EventEmitter();
let count = 0;

const handler1 = (arg) => {
  count += arg;
  console.log('Handler 1 called, count:', count);
};

const handler2 = () => {
  console.log('Handler 2 called');
};

emitter.on('increment', handler1);
emitter.on('log', handler2);

emitter.emit('increment', 5); // count: 5
emitter.emit('log'); // Handler 2 called

emitter.off('increment', handler1);
emitter.emit('increment', 10); // count: 5 (handler1 no longer active)
`,
                "tags": ["Event", "Design Pattern", "JavaScript"]
            },
            {
                "id": 13,
                "name": "Array.prototype.reduce()",
                "description": "Implement `Array.prototype.reduce()`.",
                "test_cases": [
                    {
                        "description": "Summing an array",
                        "input": "[1, 2, 3].reduce((acc, curr) => acc + curr, 0)",
                        "expected_output": "6"
                    },
                    {
                        "description": "Reducing without initial value",
                        "input": "[1, 2, 3].reduce((acc, curr) => acc + curr)",
                        "expected_output": "6"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Array-prototype-reduce",
                "boilerplate": `Array.prototype.myReduce = function(callback, initialValue) {
  // Your code here
};

// Example usage:
const numbers = [1, 2, 3, 4, 5];

const sum = numbers.myReduce((acc, num) => acc + num, 0);
console.log('Sum:', sum); // Expected: 15

const product = numbers.myReduce((acc, num) => acc * num);
console.log('Product:', product); // Expected: 120 (1 * 2 * 3 * 4 * 5)

const flatten = [[1, 2], [3, 4]].myReduce((acc, val) => acc.concat(val), []);
console.log('Flattened array:', flatten); // Expected: [1, 2, 3, 4]
`,
                "tags": ["Array", "JavaScript"]
            },
            {
                "id": 14,
                "name": "Object.create()",
                "description": "Implement `Object.create()`.",
                "test_cases": [
                    {
                        "description": "Creating an object with a prototype",
                        "input": "const proto = {a: 1}; const obj = Object.create(proto); console.log(obj.a);",
                        "expected_output": "1"
                    },
                    {
                        "description": "Creating with properties object",
                        "input": "const proto = {x: 1}; const obj = Object.create(proto, {y: {value: 2}}); console.log(obj.y);",
                        "expected_output": "2"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Object-create",
                "boilerplate": `Object.myCreate = function(proto, propertiesObject) {
  // Your code here
};

// Example usage:
const person = {
  isHuman: true,
  printIntroduction: function() {
    console.log(\`My name is \${this.name}. Am I human? \${this.isHuman}\`);
  }
};

const me = Object.myCreate(person);
me.name = 'Matthew'; // "name" is a property set on "me", but not on "person"
me.printIntroduction(); // Expected: "My name is Matthew. Am I human? true"

const anotherPerson = Object.myCreate(person, {
  name: { value: 'Alice', writable: true, configurable: true, enumerable: true },
  age: { value: 30, writable: true, configurable: true, enumerable: true }
});
console.log(anotherPerson.name); // Expected: Alice
console.log(anotherPerson.age); // Expected: 30
`,
                "tags": ["Object", "OOP", "JavaScript"]
            },
            {
                "id": 15,
                "name": "Function.prototype.call()",
                "description": "Implement `Function.prototype.call()`.",
                "test_cases": [
                    {
                        "description": "Basic call with context",
                        "input": "function greet() { return `Hello, ${this.name}!`; } const person = {name: 'Alice'}; greet.call(person);",
                        "expected_output": "Hello, Alice!"
                    },
                    {
                        "description": "Call with arguments",
                        "input": "function sum(a, b) { return this.base + a + b; } const obj = {base: 10}; sum.call(obj, 1, 2);",
                        "expected_output": "13"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Function-prototype-call",
                "boilerplate": `Function.prototype.myCall = function(thisArg, ...args) {
  // Your code here
};

// Example usage:
function greet(greeting) {
  console.log(\`\${greeting}, \${this.name}!\`);
}

const person1 = { name: 'Alice' };
greet.myCall(person1, 'Hi'); // Expected: Hi, Alice!

const person2 = { name: 'Bob' };
greet.myCall(person2, 'Hello'); // Expected: Hello, Bob!

function add(a, b) {
  return this.base + a + b;
}

const calculator = { base: 10 };
console.log(add.myCall(calculator, 5, 2)); // Expected: 17
`,
                "tags": ["Function", "This", "JavaScript"]
            },
            {
                "id": 16,
                "name": "instanceof",
                "description": "Implement `instanceof` operator.",
                "test_cases": [
                    {
                        "description": "Basic instance check",
                        "input": "function Car() {}; const myCar = new Car(); myCar instanceof Car;",
                        "expected_output": "true"
                    },
                    {
                        "description": "Inheritance chain",
                        "input": "function Animal() {}; function Dog() {}; Dog.prototype = Object.create(Animal.prototype); const myDog = new Dog(); myDog instanceof Animal;",
                        "expected_output": "true"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-instanceof",
                "boilerplate": `function myInstanceOf(left, right) {
  // Your code here
}

// Example usage:
function Car() {}
function Honda() {}
Honda.prototype = Object.create(Car.prototype);

const myCar = new Car();
const myHonda = new Honda();

console.log(myInstanceOf(myCar, Car));    // Expected: true
console.log(myInstanceOf(myHonda, Honda));  // Expected: true
console.log(myInstanceOf(myHonda, Car));   // Expected: true
console.log(myInstanceOf(myCar, Object));  // Expected: true
console.log(myInstanceOf(myHonda, Object)); // Expected: true
console.log(myInstanceOf([], Array));     // Expected: true
console.log(myInstanceOf({}, Object));     // Expected: true
console.log(myInstanceOf(null, Object));   // Expected: false
console.log(myInstanceOf(undefined, Object)); // Expected: false
`,
                "tags": ["Object", "OOP", "JavaScript"]
            },
            {
                "id": 17,
                "name": "Object.is()",
                "description": "Implement `Object.is()`.",
                "test_cases": [
                    {
                        "description": "Comparing same values",
                        "input": "Object.is(1, 1);",
                        "expected_output": "true"
                    },
                    {
                        "description": "Comparing NaN",
                        "input": "Object.is(NaN, NaN);",
                        "expected_output": "true"
                    },
                    {
                        "description": "Comparing -0 and +0",
                        "input": "Object.is(-0, +0);",
                        "expected_output": "false"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Object-is",
                "boilerplate": `Object.myIs = function(x, y) {
  // Your code here
};

// Example usage:
console.log(Object.myIs(1, 1));     // Expected: true
console.log(Object.myIs('foo', 'foo')); // Expected: true
console.log(Object.myIs([], []));    // Expected: false (reference equality)
console.log(Object.myIs(null, null)); // Expected: true
console.log(Object.myIs(undefined, undefined)); // Expected: true
console.log(Object.myIs(NaN, NaN));   // Expected: true
console.log(Object.myIs(-0, +0));    // Expected: false
console.log(Object.myIs(0, -0));     // Expected: false
console.log(Object.myIs(1, '1'));    // Expected: false
`,
                "tags": ["Object", "JavaScript"]
            },
            {
                "id": 18,
                "name": "Promise.prototype.finally()",
                "description": "Implement `Promise.prototype.finally()`.",
                "test_cases": [
                    {
                        "description": "Finally after resolve",
                        "input": "Promise.resolve(1).finally(() => console.log('Done'));",
                        "expected_output": "Done (after 1)"
                    },
                    {
                        "description": "Finally after reject",
                        "input": "Promise.reject('error').finally(() => console.log('Cleanup'));",
                        "expected_output": "Cleanup (then error)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Promise-prototype-finally",
                "boilerplate": `Promise.prototype.myFinally = function(onFinally) {
  // Your code here
};

// Example usage:
function doSomething() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const success = Math.random() > 0.5;
      if (success) {
        resolve('Operation successful!');
      } else {
        reject('Operation failed!');
      }
    }, 1000);
  });
}

doSomething()
  .then(result => {
    console.log(result);
  })
  .catch(error => {
    console.error(error);
  })
  .myFinally(() => {
    console.log('Finally block executed (cleanup or logging).');
  });
`,
                "tags": ["Promise", "Async", "JavaScript"]
            },
            {
                "id": 19,
                "name": "classNames()",
                "description": "Implement `classNames()` utility.",
                "test_cases": [
                    {
                        "description": "Basic string arguments",
                        "input": "classNames('foo', 'bar')",
                        "expected_output": "'foo bar'"
                    },
                    {
                        "description": "Mixed arguments (string, object, boolean)",
                        "input": "classNames('foo', { bar: true, baz: false }, 'qux')",
                        "expected_output": "'foo bar qux'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-classNames",
                "boilerplate": `function classNames(...args) {
  // Your code here
}

// Example usage:
console.log(classNames('foo', 'bar')); // Expected: "foo bar"
console.log(classNames('foo', false, 'bar', null, undefined, 0, '')); // Expected: "foo bar"
console.log(classNames({ foo: true, bar: false, baz: true })); // Expected: "foo baz"
console.log(classNames('foo', { bar: true, baz: false }, 'qux', { corge: true })); // Expected: "foo bar qux corge"
console.log(classNames(['foo', 'bar'], { baz: true })); // Expected: "foo bar baz"
console.log(classNames()); // Expected: ""
`,
                "tags": ["Utility", "String", "JavaScript"]
            },
            {
                "id": 20,
                "name": "_.chunk()",
                "description": "Implement `_.chunk()` from Lodash.",
                "test_cases": [
                    {
                        "description": "Chunking an array into smaller arrays",
                        "input": "_.chunk(['a', 'b', 'c', 'd'], 2)",
                        "expected_output": "[['a', 'b'], ['c', 'd']]"
                    },
                    {
                        "description": "Chunking with remainder",
                        "input": "_.chunk(['a', 'b', 'c', 'd', 'e'], 2)",
                        "expected_output": "[['a', 'b'], ['c', 'd'], ['e']]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-lodash-chunk",
                "boilerplate": `function chunk(array, size = 1) {
  // Your code here
}

// Example usage:
console.log(chunk(['a', 'b', 'c', 'd'], 2)); // Expected: [['a', 'b'], ['c', 'd']]
console.log(chunk(['a', 'b', 'c', 'd', 'e'], 2)); // Expected: [['a', 'b'], ['c', 'd'], ['e']]
console.log(chunk(['a', 'b', 'c', 'd'], 3)); // Expected: [['a', 'b', 'c'], ['d']]
console.log(chunk(['a', 'b', 'c'], 1)); // Expected: [['a'], ['b'], ['c']]
console.log(chunk([], 3)); // Expected: []
console.log(chunk(['a', 'b'], 0)); // Expected: [] (or handle error, depends on spec)
`,
                "tags": ["Array", "Lodash", "JavaScript"]
            },
            {
                "id": 21,
                "name": "Binary Search",
                "description": "Implement binary search for a sorted array.",
                "test_cases": [
                    {
                        "description": "Element found in middle",
                        "input": "binarySearch([1, 2, 3, 4, 5], 3)",
                        "expected_output": "2"
                    },
                    {
                        "description": "Element not found",
                        "input": "binarySearch([1, 2, 3, 4, 5], 6)",
                        "expected_output": "-1"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/binary-search",
                "boilerplate": `function binarySearch(arr, target) {
  // Your code here
}

// Example usage:
console.log(binarySearch([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 7)); // Expected: 6
console.log(binarySearch([1, 3, 5, 7, 9], 5)); // Expected: 2
console.log(binarySearch([1, 3, 5, 7, 9], 2)); // Expected: -1
console.log(binarySearch([], 5)); // Expected: -1
`,
                "tags": ["Algorithm", "Search", "Array"]
            },
            {
                "id": 22,
                "name": "Implement Queue",
                "description": "Implement a Queue data structure with `enqueue` and `dequeue` methods.",
                "test_cases": [
                    {
                        "description": "Enqueue and Dequeue",
                        "input": "const q = new Queue(); q.enqueue(1); q.enqueue(2); q.dequeue();",
                        "expected_output": "1"
                    },
                    {
                        "description": "Empty queue dequeue",
                        "input": "const q = new Queue(); q.dequeue();",
                        "expected_output": "undefined"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Queue",
                "boilerplate": `class Queue {
  constructor() {
    // Your code here
  }

  enqueue(item) {
    // Your code here
  }

  dequeue() {
    // Your code here
  }

  peek() {
    // Your code here
  }

  isEmpty() {
    // Your code here
  }

  size() {
    // Your code here
  }
}

// Example usage:
const queue = new Queue();
queue.enqueue(10);
queue.enqueue(20);
console.log(queue.dequeue()); // Expected: 10
console.log(queue.peek());    // Expected: 20
console.log(queue.isEmpty()); // Expected: false
console.log(queue.size());    // Expected: 1
console.log(queue.dequeue()); // Expected: 20
console.log(queue.dequeue()); // Expected: undefined
console.log(queue.isEmpty()); // Expected: true
`,
                "tags": ["Data Structure", "Queue", "OOP"]
            },
            {
                "id": 23,
                "name": "Implement Stack",
                "description": "Implement a Stack data structure with `push` and `pop` methods.",
                "test_cases": [
                    {
                        "description": "Push and Pop",
                        "input": "const s = new Stack(); s.push(1); s.push(2); s.pop();",
                        "expected_output": "2"
                    },
                    {
                        "description": "Empty stack pop",
                        "input": "const s = new Stack(); s.pop();",
                        "expected_output": "undefined"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Stack",
                "boilerplate": `class Stack {
  constructor() {
    // Your code here
  }

  push(item) {
    // Your code here
  }

  pop() {
    // Your code here
  }

  peek() {
    // Your code here
  }

  isEmpty() {
    // Your code here
  }

  size() {
    // Your code here
  }
}

// Example usage:
const stack = new Stack();
stack.push(10);
stack.push(20);
console.log(stack.pop());   // Expected: 20
console.log(stack.peek());  // Expected: 10
console.log(stack.isEmpty()); // Expected: false
console.log(stack.size());  // Expected: 1
console.log(stack.pop());   // Expected: 10
console.log(stack.pop());   // Expected: undefined
console.log(stack.isEmpty()); // Expected: true
`,
                "tags": ["Data Structure", "Stack", "OOP"]
            },
            {
                "id": 24,
                "name": "Shuffle an Array",
                "description": "Given an array, shuffle it randomly.",
                "test_cases": [
                    {
                        "description": "Shuffling a small array",
                        "input": "shuffle([1, 2, 3, 4])",
                        "expected_output": "A shuffled version of [1, 2, 3, 4]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/shuffle-an-Array",
                "boilerplate": `function shuffle(arr) {
  // Your code here
}

// Example usage:
const originalArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const shuffledArray = shuffle([...originalArray]); // Use spread to avoid modifying original
console.log('Original:', originalArray);
console.log('Shuffled:', shuffledArray);

// Run multiple times to observe randomness
console.log('Another shuffle:', shuffle([...originalArray]));
`,
                "tags": ["Array", "Algorithm", "Random"]
            },
            {
                "id": 25,
                "name": "Bubble Sort",
                "description": "Implement Bubble Sort algorithm.",
                "test_cases": [
                    {
                        "description": "Sorting an unsorted array",
                        "input": "bubbleSort([5, 1, 4, 2, 8])",
                        "expected_output": "[1, 2, 4, 5, 8]"
                    },
                    {
                        "description": "Sorting an already sorted array",
                        "input": "bubbleSort([1, 2, 3])",
                        "expected_output": "[1, 2, 3]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/bubble-sort",
                "boilerplate": `function bubbleSort(arr) {
  // Your code here
}

// Example usage:
console.log(bubbleSort([5, 1, 4, 2, 8])); // Expected: [1, 2, 4, 5, 8]
console.log(bubbleSort([3, 2, 1]));      // Expected: [1, 2, 3]
console.log(bubbleSort([]));             // Expected: []
console.log(bubbleSort([7]));            // Expected: [7]
`,
                "tags": ["Algorithm", "Sorting", "Array"]
            },
            {
                "id": 26,
                "name": "Merge Sort",
                "description": "Implement Merge Sort algorithm.",
                "test_cases": [
                    {
                        "description": "Sorting an unsorted array",
                        "input": "mergeSort([38, 27, 43, 3, 9, 82, 10])",
                        "expected_output": "[3, 9, 10, 27, 38, 43, 82]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/merge-sort",
                "boilerplate": `function mergeSort(arr) {
  // Your code here
}

// Helper function for merging two sorted arrays
function merge(left, right) {
  let result = [];
  let leftIndex = 0;
  let rightIndex = 0;

  while (leftIndex < left.length && rightIndex < right.length) {
    if (left[leftIndex] < right[rightIndex]) {
      result.push(left[leftIndex]);
      leftIndex++;
    } else {
      result.push(right[rightIndex]);
      rightIndex++;
    }
  }

  return result.concat(left.slice(leftIndex)).concat(right.slice(rightIndex));
}

// Example usage:
console.log(mergeSort([38, 27, 43, 3, 9, 82, 10])); // Expected: [3, 9, 10, 27, 38, 43, 82]
console.log(mergeSort([5, 4, 3, 2, 1])); // Expected: [1, 2, 3, 4, 5]
console.log(mergeSort([])); // Expected: []
console.log(mergeSort([7])); // Expected: [7]
`,
                "tags": ["Algorithm", "Sorting", "Array"]
            },
            {
                "id": 27,
                "name": "Insertion Sort",
                "description": "Implement Insertion Sort algorithm.",
                "test_cases": [
                    {
                        "description": "Sorting an unsorted array",
                        "input": "insertionSort([12, 11, 13, 5, 6])",
                        "expected_output": "[5, 6, 11, 12, 13]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/insertion-sort",
                "boilerplate": `function insertionSort(arr) {
  // Your code here
}

// Example usage:
console.log(insertionSort([12, 11, 13, 5, 6])); // Expected: [5, 6, 11, 12, 13]
console.log(insertionSort([5, 4, 3, 2, 1])); // Expected: [1, 2, 3, 4, 5]
console.log(insertionSort([])); // Expected: []
console.log(insertionSort([7])); // Expected: [7]
`,
                "tags": ["Algorithm", "Sorting", "Array"]
            },
            {
                "id": 28,
                "name": "Quick Sort",
                "description": "Implement Quick Sort algorithm.",
                "test_cases": [
                    {
                        "description": "Sorting an unsorted array",
                        "input": "quickSort([10, 7, 8, 9, 1, 5])",
                        "expected_output": "[1, 5, 7, 8, 9, 10]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/quick-sort",
                "boilerplate": `function quickSort(arr) {
  // Your code here
}

// Helper function for partitioning
function partition(arr, low, high) {
  const pivot = arr[high];
  let i = (low - 1);

  for (let j = low; j <= high - 1; j++) {
    if (arr[j] < pivot) {
      i++;
      [arr[i], arr[j]] = [arr[j], arr[i]]; // Swap
    }
  }
  [arr[i + 1], arr[high]] = [arr[high], arr[i + 1]]; // Swap pivot
  return i + 1;
}

// Example usage:
const arr1 = [10, 7, 8, 9, 1, 5];
quickSort(arr1);
console.log(arr1); // Expected: [1, 5, 7, 8, 9, 10]

const arr2 = [5, 4, 3, 2, 1];
quickSort(arr2);
console.log(arr2); // Expected: [1, 2, 3, 4, 5]

const arr3 = [];
quickSort(arr3);
console.log(arr3); // Expected: []

const arr4 = [7];
quickSort(arr4);
console.log(arr4); // Expected: [7]
`,
                "tags": ["Algorithm", "Sorting", "Array"]
            },
            {
                "id": 29,
                "name": "Selection Sort",
                "description": "Implement Selection Sort algorithm.",
                "test_cases": [
                    {
                        "description": "Sorting an unsorted array",
                        "input": "selectionSort([64, 25, 12, 22, 11])",
                        "expected_output": "[11, 12, 22, 25, 64]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/selection-sort",
                "boilerplate": `function selectionSort(arr) {
  // Your code here
}

// Example usage:
console.log(selectionSort([64, 25, 12, 22, 11])); // Expected: [11, 12, 22, 25, 64]
console.log(selectionSort([5, 4, 3, 2, 1])); // Expected: [1, 2, 3, 4, 5]
console.log(selectionSort([])); // Expected: []
console.log(selectionSort([7])); // Expected: [7]
`,
                "tags": ["Algorithm", "Sorting", "Array"]
            },
            {
                "id": 30,
                "name": "K-th Largest Element",
                "description": "Find the K-th largest element in an unsorted array.",
                "test_cases": [
                    {
                        "description": "Finding 3rd largest",
                        "input": "findKthLargest([3, 2, 1, 5, 6, 4], 2)",
                        "expected_output": "5"
                    },
                    {
                        "description": "Finding 1st largest",
                        "input": "findKthLargest([3, 2, 1, 5, 6, 4], 1)",
                        "expected_output": "6"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/find-K-th-largest-element",
                "boilerplate": `function findKthLargest(nums, k) {
  // Your code here (consider using a sorting approach or QuickSelect)
}

// Example usage:
console.log(findKthLargest([3, 2, 1, 5, 6, 4], 2)); // Expected: 5
console.log(findKthLargest([3, 2, 3, 1, 2, 4, 5, 5, 6], 4)); // Expected: 4
console.log(findKthLargest([1], 1)); // Expected: 1
`,
                "tags": ["Algorithm", "Array", "Sorting"]
            },
            {
                "id": 31,
                "name": "Reverse Linked List",
                "description": "Reverse a singly linked list.",
                "test_cases": [
                    {
                        "description": "Reversing a short list",
                        "input": "1 -> 2 -> 3 -> null",
                        "expected_output": "3 -> 2 -> 1 -> null"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/reverse-linked-list",
                "boilerplate": `// Definition for singly-linked list.
function ListNode(val, next) {
    this.val = (val===undefined ? 0 : val)
    this.next = (next===undefined ? null : next)
}

function reverseList(head) {
  // Your code here
}

// Helper to create a list from an array
function createList(arr) {
  if (arr.length === 0) return null;
  let head = new ListNode(arr[0]);
  let current = head;
  for (let i = 1; i < arr.length; i++) {
    current.next = new ListNode(arr[i]);
    current = current.next;
  }
  return head;
}

// Helper to convert a list to an array for logging
function listToArray(head) {
  const arr = [];
  let current = head;
  while (current) {
    arr.push(current.val);
    current = current.next;
  }
  return arr;
}

// Example usage:
const list1 = createList([1, 2, 3, 4, 5]);
console.log('Original list:', listToArray(list1));
const reversedList1 = reverseList(list1);
console.log('Reversed list:', listToArray(reversedList1)); // Expected: [5, 4, 3, 2, 1]

const list2 = createList([1]);
console.log('Original list:', listToArray(list2));
const reversedList2 = reverseList(list2);
console.log('Reversed list:', listToArray(reversedList2)); // Expected: [1]

const list3 = createList([]);
console.log('Original list:', listToArray(list3));
const reversedList3 = reverseList(list3);
console.log('Reversed list:', listToArray(reversedList3)); // Expected: []
`,
                "tags": ["Data Structure", "Linked List", "Algorithm"]
            },
            {
                "id": 32,
                "name": "BigInt Addition",
                "description": "Implement addition for large numbers represented as strings.",
                "test_cases": [
                    {
                        "description": "Adding two large numbers",
                        "input": "addStrings('123', '456')",
                        "expected_output": "'579'"
                    },
                    {
                        "description": "Adding with carry-over",
                        "input": "addStrings('99', '1')",
                        "expected_output": "'100'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/bigint-addition",
                "boilerplate": `function addStrings(num1, num2) {
  // Your code here
}

// Example usage:
console.log(addStrings('123', '456')); // Expected: "579"
console.log(addStrings('99', '1'));    // Expected: "100"
console.log(addStrings('1', '999'));   // Expected: "1000"
console.log(addStrings('0', '0'));     // Expected: "0"
console.log(addStrings('1234567890123456789', '9876543210987654321')); // Expected: "11111111101111111110"
`,
                "tags": ["String", "Algorithm", "Math"]
            },
            {
                "id": 33,
                "name": "Remove Duplicates from Array",
                "description": "Remove duplicate elements from a sorted array in-place.",
                "test_cases": [
                    {
                        "description": "Array with duplicates",
                        "input": "removeDuplicates([1, 1, 2])",
                        "expected_output": "2 (and array becomes [1, 2, _])"
                    },
                    {
                        "description": "Array with many duplicates",
                        "input": "removeDuplicates([0, 0, 1, 1, 1, 2, 2, 3, 3, 4])",
                        "expected_output": "5 (and array becomes [0, 1, 2, 3, 4, _, _, _, _, _])"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/remove-duplicates-from-array",
                "boilerplate": `function removeDuplicates(nums) {
  // Your code here (in-place modification)
  // Return the new length
}

// Example usage:
let arr1 = [1, 1, 2];
let len1 = removeDuplicates(arr1);
console.log('New length:', len1); // Expected: 2
console.log('Modified array (first ' + len1 + ' elements):', arr1.slice(0, len1)); // Expected: [1, 2]

let arr2 = [0, 0, 1, 1, 1, 2, 2, 3, 3, 4];
let len2 = removeDuplicates(arr2);
console.log('New length:', len2); // Expected: 5
console.log('Modified array (first ' + len2 + ' elements):', arr2.slice(0, len2)); // Expected: [0, 1, 2, 3, 4]

let arr3 = [];
let len3 = removeDuplicates(arr3);
console.log('New length:', len3); // Expected: 0
console.log('Modified array (first ' + len3 + ' elements):', arr3.slice(0, len3)); // Expected: []
`,
                "tags": ["Array", "Algorithm"]
            },
            {
                "id": 34,
                "name": "Fibonacci Number",
                "description": "Calculate the Nth Fibonacci number.",
                "test_cases": [
                    {
                        "description": "F(2)",
                        "input": "fib(2)",
                        "expected_output": "1"
                    },
                    {
                        "description": "F(10)",
                        "input": "fib(10)",
                        "expected_output": "55"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/fibonacci-number",
                "boilerplate": `function fib(n) {
  // Your code here
}

// Example usage:
console.log(fib(0)); // Expected: 0
console.log(fib(1)); // Expected: 1
console.log(fib(2)); // Expected: 1
console.log(fib(3)); // Expected: 2
console.log(fib(10)); // Expected: 55
console.log(fib(20)); // Expected: 6765
`,
                "tags": ["Algorithm", "Recursion", "Dynamic Programming"]
            },
            {
                "id": 35,
                "name": "Longest Substring Without Repeating Characters",
                "description": "Find the length of the longest substring without repeating characters.",
                "test_cases": [
                    {
                        "description": "Example 1",
                        "input": "lengthOfLongestSubstring('abcabcbb')",
                        "expected_output": "3 ('abc')"
                    },
                    {
                        "description": "Example 2",
                        "input": "lengthOfLongestSubstring('bbbbb')",
                        "expected_output": "1 ('b')"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/longest-substring-without-repeating-characters",
                "boilerplate": `function lengthOfLongestSubstring(s) {
  // Your code here
}

// Example usage:
console.log(lengthOfLongestSubstring("abcabcbb")); // Expected: 3
console.log(lengthOfLongestSubstring("bbbbb"));    // Expected: 1
console.log(lengthOfLongestSubstring("pwwkew"));   // Expected: 3
console.log(lengthOfLongestSubstring(""));         // Expected: 0
console.log(lengthOfLongestSubstring("au"));       // Expected: 2
`,
                "tags": ["String", "Algorithm", "Sliding Window"]
            },
            {
                "id": 36,
                "name": "Invert Binary Tree",
                "description": "Invert a binary tree (mirror it).",
                "test_cases": [
                    {
                        "description": "Inverting a simple tree",
                        "input": "  4\n / \\\n2   7\n/ \\ / \\\n1 3 6 9",
                        "expected_output": "  4\n / \\\n7   2\n/ \\ / \\\n9 6 3 1"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/invert-binary-tree",
                "boilerplate": `// Definition for a binary tree node.
function TreeNode(val, left, right) {
    this.val = (val===undefined ? 0 : val)
    this.left = (left===undefined ? null : left)
    this.right = (right===undefined ? null : right)
}

function invertTree(root) {
  // Your code here
}

// Helper to build a tree from a level-order array (null for missing nodes)
function buildTree(arr) {
  if (!arr || arr.length === 0 || arr[0] === null) return null;
  const root = new TreeNode(arr[0]);
  const queue = [root];
  let i = 1;
  while (queue.length > 0 && i < arr.length) {
    const current = queue.shift();
    if (arr[i] !== null) {
      current.left = new TreeNode(arr[i]);
      queue.push(current.left);
    }
    i++;
    if (i < arr.length && arr[i] !== null) {
      current.right = new TreeNode(arr[i]);
      queue.push(current.right);
    }
    i++;
  }
  return root;
}

// Helper to convert tree to level-order array for logging
function treeToLevelOrderArray(root) {
  if (!root) return [];
  const result = [];
  const queue = [root];
  while (queue.length > 0) {
    const node = queue.shift();
    if (node) {
      result.push(node.val);
      queue.push(node.left);
      queue.push(node.right);
    } else {
      result.push(null);
    }
  }
  // Trim trailing nulls
  while (result.length > 0 && result[result.length - 1] === null) {
    result.pop();
  }
  return result;
}

// Example usage:
const tree1 = buildTree([4, 2, 7, 1, 3, 6, 9]);
console.log('Original Tree:', treeToLevelOrderArray(tree1));
const invertedTree1 = invertTree(tree1);
console.log('Inverted Tree:', treeToLevelOrderArray(invertedTree1)); // Expected: [4, 7, 2, 9, 6, 3, 1]

const tree2 = buildTree([1, 2]);
console.log('Original Tree:', treeToLevelOrderArray(tree2));
const invertedTree2 = invertTree(tree2);
console.log('Inverted Tree:', treeToLevelOrderArray(invertedTree2)); // Expected: [1, null, 2]
`,
                "tags": ["Data Structure", "Tree", "Algorithm"]
            },
            {
                "id": 37,
                "name": "Count '1' in Binary Form",
                "description": "Count the number of set bits (1s) in the binary representation of an integer.",
                "test_cases": [
                    {
                        "description": "Positive number",
                        "input": "countBits(11)",
                        "expected_output": "3 (1011 in binary)"
                    },
                    {
                        "description": "Zero",
                        "input": "countBits(0)",
                        "expected_output": "0"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/count-1-in-binary-form",
                "boilerplate": `function countBits(n) {
  // Your code here
}

// Example usage:
console.log(countBits(0));  // Expected: 0
console.log(countBits(1));  // Expected: 1 (0001)
console.log(countBits(2));  // Expected: 1 (0010)
console.log(countBits(3));  // Expected: 2 (0011)
console.log(countBits(11)); // Expected: 3 (1011)
console.log(countBits(128)); // Expected: 1 (10000000)
`,
                "tags": ["Bit Manipulation", "Algorithm", "Number"]
            },
            {
                "id": 38,
                "name": "Compress String",
                "description": "Compress a string by replacing repeated characters with the character and count (e.g., 'aaabbc' -> 'a3b2c1').",
                "test_cases": [
                    {
                        "description": "Basic compression",
                        "input": "compressString('aaabbc')",
                        "expected_output": "'a3b2c1'"
                    },
                    {
                        "description": "No compression needed",
                        "input": "compressString('abc')",
                        "expected_output": "'a1b1c1'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/compress-string",
                "boilerplate": `function compressString(str) {
  // Your code here
}

// Example usage:
console.log(compressString('aaabbc'));   // Expected: "a3b2c1"
console.log(compressString('aabbccddeeff')); // Expected: "a2b2c2d2e2f2"
console.log(compressString('abc'));      // Expected: "a1b1c1"
console.log(compressString('aaaaa'));    // Expected: "a5"
console.log(compressString(''));         // Expected: ""
console.log(compressString('AABBCC'));   // Expected: "A2B2C2"
`,
                "tags": ["String", "Algorithm"]
            },
            {
                "id": 39,
                "name": "Detect Cycle in Linked List",
                "description": "Determine if a linked list has a cycle in it.",
                "test_cases": [
                    {
                        "description": "List with cycle",
                        "input": "1 -> 2 -> 3 -> 2 (cycle back to 2)",
                        "expected_output": "true"
                    },
                    {
                        "description": "List without cycle",
                        "input": "1 -> 2 -> 3 -> null",
                        "expected_output": "false"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/detect-cycle-in-linked-list",
                "boilerplate": `// Definition for singly-linked list.
function ListNode(val) {
    this.val = val;
    this.next = null;
}

function hasCycle(head) {
  // Your code here
}

// Helper to create a list with an optional cycle for testing
function createListWithCycle(arr, pos = -1) {
    if (arr.length === 0) return null;
    let head = new ListNode(arr[0]);
    let current = head;
    let cycleNode = null;
    if (pos === 0) cycleNode = head;

    for (let i = 1; i < arr.length; i++) {
        current.next = new ListNode(arr[i]);
        current = current.next;
        if (i === pos) cycleNode = current;
    }
    if (cycleNode) {
        current.next = cycleNode;
    }
    return head;
}

// Example usage:
// List with a cycle: 1 -> 2 -> 3 -> 2 (cycle to node with value 2)
const list1 = createListWithCycle([3, 2, 0, -4], 1); // pos 1 means index 1 (value 2)
console.log('Has cycle (list1)?', hasCycle(list1)); // Expected: true

// List without a cycle: 1 -> 2 -> 3 -> null
const list2 = createListWithCycle([1, 2, 3]);
console.log('Has cycle (list2)?', hasCycle(list2)); // Expected: false

// Single node with a cycle
const list3 = createListWithCycle([1], 0);
console.log('Has cycle (list3)?', hasCycle(list3)); // Expected: true

// Empty list
const list4 = createListWithCycle([]);
console.log('Has cycle (list4)?', hasCycle(list4)); // Expected: false
`,
                "tags": ["Data Structure", "Linked List", "Algorithm"]
            },
            {
                "id": 40,
                "name": "Implement Math.sqrt()",
                "description": "Implement `Math.sqrt()` without using built-in `Math.sqrt()`.",
                "test_cases": [
                    {
                        "description": "Square root of a perfect square",
                        "input": "mySqrt(4)",
                        "expected_output": "2"
                    },
                    {
                        "description": "Square root of a non-perfect square (integer part)",
                        "input": "mySqrt(8)",
                        "expected_output": "2"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Math-sqrt",
                "boilerplate": `function mySqrt(x) {
  // Your code here (consider using binary search or Newton's method)
}

// Example usage:
console.log(mySqrt(4));   // Expected: 2
console.log(mySqrt(8));   // Expected: 2 (integer part)
console.log(mySqrt(0));   // Expected: 0
console.log(mySqrt(1));   // Expected: 1
console.log(mySqrt(2147395600)); // Expected: 46340
`,
                "tags": ["Math", "Algorithm", "Number"]
            },
            {
                "id": 41,
                "name": "Implement Math.pow()",
                "description": "Implement `Math.pow()` without using built-in `Math.pow()`.",
                "test_cases": [
                    {
                        "description": "Positive exponent",
                        "input": "myPow(2, 3)",
                        "expected_output": "8"
                    },
                    {
                        "description": "Zero exponent",
                        "input": "myPow(5, 0)",
                        "expected_output": "1"
                    },
                    {
                        "description": "Negative exponent",
                        "input": "myPow(2, -2)",
                        "expected_output": "0.25"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Math-pow",
                "boilerplate": `function myPow(base, exponent) {
  // Your code here
}

// Example usage:
console.log(myPow(2, 3));   // Expected: 8
console.log(myPow(5, 0));   // Expected: 1
console.log(myPow(2, -2));  // Expected: 0.25
console.log(myPow(3, 4));   // Expected: 81
console.log(myPow(0, 5));   // Expected: 0
console.log(myPow(-2, 3));  // Expected: -8
console.log(myPow(-2, 2));  // Expected: 4
`,
                "tags": ["Math", "Algorithm", "Number"]
            },
            {
                "id": 42,
                "name": "Serialize and Deserialize Binary Tree",
                "description": "Serialize and deserialize a binary tree.",
                "test_cases": [
                    {
                        "description": "Simple tree",
                        "input": "serialize(deserialize([1,2,3,null,null,4,5]))",
                        "expected_output": "[1,2,3,null,null,4,5]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/serialize-and-deserialize-binary-tree",
                "boilerplate": `// Definition for a binary tree node.
function TreeNode(val) {
    this.val = val;
    this.left = this.right = null;
}

/**
 * Encodes a tree to a single string.
 * @param {TreeNode} root
 * @return {string}
 */
var serialize = function(root) {
    // Your code here
};

/**
 * Decodes your encoded data to tree.
 * @param {string} data
 * @return {TreeNode}
 */
var deserialize = function(data) {
    // Your code here
};

// Helper to build a tree from a level-order array (null for missing nodes)
function buildTree(arr) {
  if (!arr || arr.length === 0 || arr[0] === null) return null;
  const root = new TreeNode(arr[0]);
  const queue = [root];
  let i = 1;
  while (queue.length > 0 && i < arr.length) {
    const current = queue.shift();
    if (arr[i] !== null) {
      current.left = new TreeNode(arr[i]);
      queue.push(current.left);
    }
    i++;
    if (i < arr.length && arr[i] !== null) {
      current.right = new TreeNode(arr[i]);
      queue.push(current.right);
    }
    i++;
  }
  return root;
}

// Helper to convert tree to level-order array for logging
function treeToLevelOrderArray(root) {
  if (!root) return [];
  const result = [];
  const queue = [root];
  while (queue.length > 0) {
    const node = queue.shift();
    if (node) {
      result.push(node.val);
      queue.push(node.left);
      queue.push(node.right);
    } else {
      result.push(null);
    }
  }
  // Trim trailing nulls
  while (result.length > 0 && result[result.length - 1] === null) {
    result.pop();
  }
  return result;
}

// Example usage:
const tree1 = buildTree([1, 2, 3, null, null, 4, 5]);
const serializedTree1 = serialize(tree1);
console.log('Serialized:', serializedTree1); // Expected: "1,2,3,null,null,4,5"
const deserializedTree1 = deserialize(serializedTree1);
console.log('Deserialized:', treeToLevelOrderArray(deserializedTree1)); // Expected: [1, 2, 3, null, null, 4, 5]

const tree2 = buildTree([]);
const serializedTree2 = serialize(tree2);
console.log('Serialized (empty):', serializedTree2); // Expected: ""
const deserializedTree2 = deserialize(serializedTree2);
console.log('Deserialized (empty):', treeToLevelOrderArray(deserializedTree2)); // Expected: []
`,
                "tags": ["Data Structure", "Tree", "Serialization"]
            },
            {
                "id": 43,
                "name": "Count Palindromic Substrings",
                "description": "Count the number of palindromic substrings in a given string.",
                "test_cases": [
                    {
                        "description": "Example 1",
                        "input": "countSubstrings('abc')",
                        "expected_output": "3 ('a', 'b', 'c')"
                    },
                    {
                        "description": "Example 2",
                        "input": "countSubstrings('aaa')",
                        "expected_output": "6 ('a', 'a', 'a', 'aa', 'aa', 'aaa')"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/count-palindromic-substrings",
                "boilerplate": `function countSubstrings(s) {
  // Your code here
}

// Example usage:
console.log(countSubstrings('abc'));   // Expected: 3
console.log(countSubstrings('aaa'));   // Expected: 6
console.log(countSubstrings('aba'));   // Expected: 4 (a, b, a, aba)
console.log(countSubstrings('racecar')); // Expected: 10 (r, a, c, e, c, a, r, aceca, racecar, cec)
`,
                "tags": ["String", "Algorithm", "Dynamic Programming"]
            },
            {
                "id": 44,
                "name": "Remove Duplicate Characters",
                "description": "Remove duplicate characters from a string, keeping only the first occurrence.",
                "test_cases": [
                    {
                        "description": "Basic removal",
                        "input": "removeDuplicateCharacters('banana')",
                        "expected_output": "'ban'"
                    },
                    {
                        "description": "No duplicates",
                        "input": "removeDuplicateCharacters('abc')",
                        "expected_output": "'abc'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/remove-duplicate-characters",
                "boilerplate": `function removeDuplicateCharacters(str) {
  // Your code here
}

// Example usage:
console.log(removeDuplicateCharacters('banana')); // Expected: "ban"
console.log(removeDuplicateCharacters('hello world')); // Expected: "helo wrd"
console.log(removeDuplicateCharacters('programming')); // Expected: "progamin"
console.log(removeDuplicateCharacters('')); // Expected: ""
console.log(removeDuplicateCharacters('abcde')); // Expected: "abcde"
`,
                "tags": ["String", "Algorithm"]
            },
            {
                "id": 45,
                "name": "Two Sum",
                "description": "Given an array of integers and a target sum, return indices of the two numbers that add up to the target.",
                "test_cases": [
                    {
                        "description": "Basic case",
                        "input": "twoSum([2, 7, 11, 15], 9)",
                        "expected_output": "[0, 1]"
                    },
                    {
                        "description": "No solution",
                        "input": "twoSum([3, 2, 4], 6)",
                        "expected_output": "[1, 2]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/two-sum",
                "boilerplate": `function twoSum(nums, target) {
  // Your code here
}

// Example usage:
console.log(twoSum([2, 7, 11, 15], 9)); // Expected: [0, 1]
console.log(twoSum([3, 2, 4], 6));      // Expected: [1, 2]
console.log(twoSum([3, 3], 6));         // Expected: [0, 1]
console.log(twoSum([1, 2, 3, 4, 5], 10)); // Expected: [] or null (no solution)
`,
                "tags": ["Array", "Algorithm", "Hash Table"]
            },
            {
                "id": 46,
                "name": "Largest Difference",
                "description": "Given an array of numbers, find the largest difference between any two numbers.",
                "test_cases": [
                    {
                        "description": "Basic case",
                        "input": "largestDifference([1, 2, 3, 4, 5])",
                        "expected_output": "4"
                    },
                    {
                        "description": "Negative numbers",
                        "input": "largestDifference([-1, -5, -2])",
                        "expected_output": "4"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/largest-difference",
                "boilerplate": `function largestDifference(arr) {
  // Your code here
}

// Example usage:
console.log(largestDifference([1, 2, 3, 4, 5]));   // Expected: 4
console.log(largestDifference([-1, -5, -2]));  // Expected: 4
console.log(largestDifference([5, 1, 9, 2, 7])); // Expected: 8
console.log(largestDifference([10]));           // Expected: 0 (or error, depends on spec)
console.log(largestDifference([]));             // Expected: 0 (or error, depends on spec)
`,
                "tags": ["Array", "Algorithm"]
            },
            {
                "id": 47,
                "name": "Median of Two Sorted Arrays",
                "description": "Find the median of two sorted arrays.",
                "test_cases": [
                    {
                        "description": "Even total length",
                        "input": "findMedianSortedArrays([1, 2], [3, 4])",
                        "expected_output": "2.5"
                    },
                    {
                        "description": "Odd total length",
                        "input": "findMedianSortedArrays([1, 3], [2])",
                        "expected_output": "2.0"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/median-of-two-sorted-arrays",
                "boilerplate": `function findMedianSortedArrays(nums1, nums2) {
  // Your code here
}

// Example usage:
console.log(findMedianSortedArrays([1, 3], [2]));       // Expected: 2.0
console.log(findMedianSortedArrays([1, 2], [3, 4]));    // Expected: 2.5
console.log(findMedianSortedArrays([0, 0], [0, 0]));    // Expected: 0.0
console.log(findMedianSortedArrays([], [1]));          // Expected: 1.0
console.log(findMedianSortedArrays([2], []));          // Expected: 2.0
`,
                "tags": ["Array", "Algorithm", "Search"]
            },
            {
                "id": 48,
                "name": "Binary Tree Vertical Traversal",
                "description": "Perform vertical order traversal of a binary tree.",
                "test_cases": [
                    {
                        "description": "Simple tree",
                        "input": "  3\n / \\\n9   20\n   /  \\\n  15   7",
                        "expected_output": "[[9], [3, 15], [20], [7]]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/binary-tree-vertical-traversal",
                "boilerplate": `// Definition for a binary tree node.
function TreeNode(val, left, right) {
    this.val = (val===undefined ? 0 : val)
    this.left = (left===undefined ? null : left)
    this.right = (right===undefined ? null : right)
}

function verticalOrder(root) {
  // Your code here
}

// Helper to build a tree from a level-order array (null for missing nodes)
function buildTree(arr) {
  if (!arr || arr.length === 0 || arr[0] === null) return null;
  const root = new TreeNode(arr[0]);
  const queue = [root];
  let i = 1;
  while (queue.length > 0 && i < arr.length) {
    const current = queue.shift();
    if (arr[i] !== null) {
      current.left = new TreeNode(arr[i]);
      queue.push(current.left);
    }
    i++;
    if (i < arr.length && arr[i] !== null) {
      current.right = new TreeNode(arr[i]);
      queue.push(current.right);
    }
    i++;
  }
  return root;
}

// Helper to convert tree to level-order array for logging
function treeToLevelOrderArray(root) {
  if (!root) return [];
  const result = [];
  const queue = [root];
  while (queue.length > 0) {
    const node = queue.shift();
    if (node) {
      result.push(node.val);
      queue.push(node.left);
      queue.push(node.right);
    } else {
      result.push(null);
    }
  }
  // Trim trailing nulls
  while (result.length > 0 && result[result.length - 1] === null) {
    result.pop();
  }
  return result;
}

// Example usage:
const tree1 = buildTree([3, 9, 20, null, null, 15, 7]);
console.log(verticalOrder(tree1)); // Expected: [[9], [3, 15], [20], [7]]

const tree2 = buildTree([1, 2, 3, 4, 5, 6, 7]);
console.log(verticalOrder(tree2)); // Expected: [[4], [2], [1, 5, 6], [3], [7]]
`,
                "tags": ["Data Structure", "Tree", "Traversal", "Algorithm"]
            },
            {
                "id": 49,
                "name": "Intersection of Two Arrays (Sorted)",
                "description": "Find the intersection of two sorted arrays.",
                "test_cases": [
                    {
                        "description": "Basic intersection",
                        "input": "intersectSorted([1, 2, 2, 1], [2, 2])",
                        "expected_output": "[2, 2]"
                    },
                    {
                        "description": "No intersection",
                        "input": "intersectSorted([1, 2], [3, 4])",
                        "expected_output": "[]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/intersection-of-two-arrays-sorted",
                "boilerplate": `function intersectSorted(nums1, nums2) {
  // Your code here
}

// Example usage:
console.log(intersectSorted([1, 2, 2, 1], [2, 2])); // Expected: [2, 2]
console.log(intersectSorted([4, 9, 5], [9, 4, 9, 8, 4])); // Expected: [4, 9] (order might vary based on implementation)
console.log(intersectSorted([1, 2, 3], [4, 5, 6])); // Expected: []
console.log(intersectSorted([], [1, 2])); // Expected: []
`,
                "tags": ["Array", "Algorithm", "Two Pointers"]
            },
            {
                "id": 50,
                "name": "Intersection of Two Arrays (Unsorted)",
                "description": "Find the intersection of two unsorted arrays.",
                "test_cases": [
                    {
                        "description": "Basic intersection",
                        "input": "intersectUnsorted([1, 2, 2, 1], [2, 2])",
                        "expected_output": "[2, 2]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/intersection-of-two-arrays-unsorted",
                "boilerplate": `function intersectUnsorted(nums1, nums2) {
  // Your code here
}

// Example usage:
console.log(intersectUnsorted([1, 2, 2, 1], [2, 2])); // Expected: [2, 2]
console.log(intersectUnsorted([4, 9, 5], [9, 4, 9, 8, 4])); // Expected: [4, 9] (order might vary based on implementation)
console.log(intersectUnsorted([1, 2, 3], [4, 5, 6])); // Expected: []
`,
                "tags": ["Array", "Algorithm", "Hash Table"]
            },
            {
                "id": 51,
                "name": "Move Zeros",
                "description": "Move all zeros to the end of an array while maintaining the relative order of the non-zero elements.",
                "test_cases": [
                    {
                        "description": "Basic case",
                        "input": "moveZeros([0, 1, 0, 3, 12])",
                        "expected_output": "[1, 3, 12, 0, 0]"
                    },
                    {
                        "description": "All zeros",
                        "input": "moveZeros([0, 0, 0])",
                        "expected_output": "[0, 0, 0]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/move-zeros",
                "boilerplate": `function moveZeros(nums) {
  // Your code here (in-place modification)
}

// Example usage:
let arr1 = [0, 1, 0, 3, 12];
moveZeros(arr1);
console.log(arr1); // Expected: [1, 3, 12, 0, 0]

let arr2 = [0, 0, 0];
moveZeros(arr2);
console.log(arr2); // Expected: [0, 0, 0]

let arr3 = [1, 2, 3];
moveZeros(arr3);
console.log(arr3); // Expected: [1, 2, 3]

let arr4 = [0];
moveZeros(arr4);
console.log(arr4); // Expected: [0]
`,
                "tags": ["Array", "Algorithm", "In-place"]
            },
            {
                "id": 52,
                "name": "LRU Cache",
                "description": "Design and implement a Least Recently Used (LRU) cache.",
                "test_cases": [
                    {
                        "description": "Basic operations",
                        "input": "LRUCache cache = new LRUCache(2); cache.put(1, 1); cache.put(2, 2); cache.get(1); cache.put(3, 3); cache.get(2);",
                        "expected_output": "1, -1 (2 is evicted)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/lru-cache",
                "boilerplate": `class LRUCache {
  constructor(capacity) {
    // Your code here
  }

  get(key) {
    // Your code here
  }

  put(key, value) {
    // Your code here
  }
}

// Example usage:
const cache = new LRUCache(2);
cache.put(1, 1);
cache.put(2, 2);
console.log(cache.get(1));    // returns 1
cache.put(3, 3);              // evicts key 2
console.log(cache.get(2));    // returns -1 (not found)
cache.put(4, 4);              // evicts key 1
console.log(cache.get(1));    // returns -1 (not found)
console.log(cache.get(3));    // returns 3
console.log(cache.get(4));    // returns 4
`,
                "tags": ["Data Structure", "Cache", "Design"]
            },
            {
                "id": 53,
                "name": "Integer to Roman",
                "description": "Convert an integer to a Roman numeral.",
                "test_cases": [
                    {
                        "description": "Example 1",
                        "input": "intToRoman(3)",
                        "expected_output": "'III'"
                    },
                    {
                        "description": "Example 2",
                        "input": "intToRoman(58)",
                        "expected_output": "'LVIII'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/integer-to-roman",
                "boilerplate": `function intToRoman(num) {
  // Your code here
}

// Example usage:
console.log(intToRoman(3));    // Expected: "III"
console.log(intToRoman(58));   // Expected: "LVIII"
console.log(intToRoman(1994)); // Expected: "MCMXCIV"
console.log(intToRoman(9));    // Expected: "IX"
console.log(intToRoman(4));    // Expected: "IV"
`,
                "tags": ["String", "Algorithm", "Number"]
            },
            {
                "id": 54,
                "name": "Roman to Integer",
                "description": "Convert a Roman numeral to an integer.",
                "test_cases": [
                    {
                        "description": "Example 1",
                        "input": "romanToInt('III')",
                        "expected_output": "3"
                    },
                    {
                        "description": "Example 2",
                        "input": "romanToInt('LVIII')",
                        "expected_output": "58"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/roman-to-integer",
                "boilerplate": `function romanToInt(s) {
  // Your code here
}

// Example usage:
console.log(romanToInt('III'));    // Expected: 3
console.log(romanToInt('LVIII'));   // Expected: 58
console.log(romanToInt('MCMXCIV')); // Expected: 1994
console.log(romanToInt('IX'));     // Expected: 9
console.log(romanToInt('IV'));     // Expected: 4
`,
                "tags": ["String", "Algorithm", "Number"]
            },
            {
                "id": 55,
                "name": "Simple DOM Wrapper (jQuery-like)",
                "description": "Implement a simple DOM wrapper similar to jQuery's `$` function.",
                "test_cases": [
                    {
                        "description": "Selecting by ID",
                        "input": "document.body.innerHTML = '<div id=\"test\">Hello</div>'; $('test').html();",
                        "expected_output": "'Hello'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/simple-dom-wrapper-jQuery-like",
                "boilerplate": `function $(selector) {
  // Your code here
}

// Example usage (requires a DOM environment):
// Assume the following HTML is present:
// <div id="myDiv" class="container">
//   <p>Hello</p>
//   <span class="text">World</span>
// </div>

// To run in this environment, you might need to simulate DOM
// For direct console testing, this is tricky without a full browser env.
// However, the structure would be:

// const myDiv = $('#myDiv');
// console.log(myDiv.html()); // Should get innerHTML
// myDiv.html('<p>New Content</p>'); // Should set innerHTML
// console.log(myDiv.hasClass('container')); // Should be true
// myDiv.addClass('active');
// console.log(myDiv.hasClass('active')); // Should be true
// myDiv.removeClass('container');
// console.log(myDiv.hasClass('container')); // Should be false
`,
                "tags": ["DOM", "Frontend"]
            },
            {
                "id": 56,
                "name": "Find Corresponding Node in Two Identical DOM Trees",
                "description": "Given two identical DOM trees and a node from the first tree, find the corresponding node in the second tree.",
                "test_cases": [
                    {
                        "description": "Finding a child node",
                        "input": "tree1: <div><p>A</p></div>, tree2: <div><p>B</p></div>, node: tree1.querySelector('p')",
                        "expected_output": "tree2.querySelector('p')"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/find-corresponding-node-in-two-identical-DOM-trees",
                "boilerplate": `function findCorrespondingNode(rootA, rootB, target) {
  // Your code here
}

// Helper to create simple DOM elements for testing
function createElement(tag, children = []) {
    const el = document.createElement(tag);
    children.forEach(child => {
        if (typeof child === 'string') {
            el.appendChild(document.createTextNode(child));
        } else {
            el.appendChild(child);
        }
    });
    return el;
}

// Example usage (requires a simulated DOM or running in browser):
// Create two identical trees
const treeA = createElement('div', [
    createElement('p', ['Hello']),
    createElement('span', ['World'])
]);

const treeB = createElement('div', [
    createElement('p', ['Hi']),
    createElement('span', ['There'])
]);

const targetNodeA = treeA.children[0]; // The <p> tag in treeA

// In a real browser, you'd append these to body or a container.
// document.body.appendChild(treeA);
// document.body.appendChild(treeB);

// For testing purposes, we can manually check properties
const correspondingNodeB = findCorrespondingNode(treeA, treeB, targetNodeA);

if (correspondingNodeB) {
    console.log('Found corresponding node:', correspondingNodeB.tagName, correspondingNodeB.textContent);
    // Expected: P Hello (if treeB's p is also "Hello") or P Hi (if treeB's p is "Hi")
    // The content might differ, but the structure should match.
    console.log('Is it the same element as treeB.children[0]?', correspondingNodeB === treeB.children[0]); // Expected: true
} else {
    console.log('Corresponding node not found.');
}
`,
                "tags": ["DOM", "Tree", "Algorithm"]
            },
            {
                "id": 57,
                "name": "Get DOM Tree Height",
                "description": "Given a DOM tree, return its height.",
                "test_cases": [
                    {
                        "description": "Simple tree",
                        "input": "<div><p><span></span></p></div>",
                        "expected_output": "3"
                    },
                    {
                        "description": "Empty tree",
                        "input": "null",
                        "expected_output": "0"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/get-DOM-tree-height",
                "boilerplate": `function getDomTreeHeight(root) {
  // Your code here
}

// Helper to create simple DOM elements for testing
function createElement(tag, children = []) {
    const el = document.createElement(tag);
    children.forEach(child => {
        if (typeof child === 'string') {
            el.appendChild(document.createTextNode(child));
        } else {
            el.appendChild(child);
        }
    });
    return el;
}

// Example usage (requires a simulated DOM or running in browser):
const tree1 = createElement('div', [
    createElement('p', [
        createElement('span', ['Hello'])
    ]),
    createElement('ul', [
        createElement('li')
    ])
]);
console.log('Height of tree1:', getDomTreeHeight(tree1)); // Expected: 4 (div -> p -> span -> text node) or 3 (if counting elements only)

const tree2 = createElement('div', [
    createElement('p', ['A']),
    createElement('div', ['B'])
]);
console.log('Height of tree2:', getDomTreeHeight(tree2)); // Expected: 2 (div -> p/div)

const tree3 = createElement('div');
console.log('Height of tree3:', getDomTreeHeight(tree3)); // Expected: 1

console.log('Height of null:', getDomTreeHeight(null)); // Expected: 0
`,
                "tags": ["DOM", "Tree", "Algorithm"]
            },
            {
                "id": 58,
                "name": "Create Browser History",
                "description": "Implement a simple browser history mechanism with `go`, `back`, `forward`.",
                "test_cases": [
                    {
                        "description": "Navigate and go back",
                        "input": "const history = new History(); history.visit('a'); history.visit('b'); history.back(); history.current();",
                        "expected_output": "'a'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/create-browser-history",
                "boilerplate": `class BrowserHistory {
  constructor() {
    // Your code here
  }

  visit(url) {
    // Your code here
  }

  back() {
    // Your code here
  }

  forward() {
    // Your code here
  }

  current() {
    // Your code here
  }
}

// Example usage:
const history = new BrowserHistory();
history.visit('pageA');
history.visit('pageB');
history.visit('pageC');

console.log('Current:', history.current()); // Expected: pageC

history.back();
console.log('Current after back:', history.current()); // Expected: pageB

history.back();
console.log('Current after another back:', history.current()); // Expected: pageA

history.forward();
console.log('Current after forward:', history.current()); // Expected: pageB

history.visit('pageD'); // This should clear forward history
console.log('Current after new visit:', history.current()); // Expected: pageD

history.forward(); // Should do nothing
console.log('Current after forward (no history):', history.current()); // Expected: pageD
`,
                "tags": ["Browser API", "Design", "Frontend"]
            },
            {
                "id": 59,
                "name": "Highlight Keywords in HTML",
                "description": "Given an HTML string and keywords, highlight the keywords in the HTML.",
                "test_cases": [
                    {
                        "description": "Highlighting a single word",
                        "input": "highlight('Hello <b>world</b>', ['world'])",
                        "expected_output": "'Hello <b><mark>world</mark></b>'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/highlight-keywords-in-HTML",
                "boilerplate": `function highlight(htmlString, keywords) {
  // Your code here
}

// Example usage:
const html1 = 'Hello <b>world</b>, this is a test.';
const keywords1 = ['world', 'test'];
console.log(highlight(html1, keywords1));
// Expected: "Hello <b><mark>world</mark></b>, this is a <mark>test</mark>."

const html2 = '<p>JavaScript is fun.</p>';
const keywords2 = ['JavaScript'];
console.log(highlight(html2, keywords2));
// Expected: "<p><mark>JavaScript</mark> is fun.</p>"

const html3 = '<span>No match here.</span>';
const keywords3 = ['xyz'];
console.log(highlight(html3, keywords3));
// Expected: "<span>No match here.</span>"

const html4 = '<div>Case insensitive test: JavaScript javascript</div>';
const keywords4 = ['javascript']; // Assuming case-insensitive matching is desired
console.log(highlight(html4, keywords4));
// Expected: "<div>Case insensitive test: <mark>JavaScript</mark> <mark>javascript</mark></div>"
`,
                "tags": ["String", "HTML", "DOM", "Frontend"]
            },
            {
                "id": 60,
                "name": "Extract Anchor Elements",
                "description": "Given an HTML string, extract all anchor (`<a>`) elements and their `href` and `textContent`.",
                "test_cases": [
                    {
                        "description": "Single anchor",
                        "input": "'<a href=\"/home\">Home</a>'",
                        "expected_output": "[{href: '/home', text: 'Home'}]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/extract-anchor-elements",
                "boilerplate": `function extractAnchors(htmlString) {
  // Your code here
}

// Example usage:
const html1 = \`
  <div>
    <a href="/page1">Link One</a>
    <p>Some text</p>
    <a href="https://example.com" target="_blank">External Link</a>
  </div>
\`;
console.log(extractAnchors(html1));
// Expected: [
//   { href: "/page1", text: "Link One" },
//   { href: "https://example.com", text: "External Link" }
// ]

const html2 = '<p>No links here.</p>';
console.log(extractAnchors(html2)); // Expected: []

const html3 = '<a href="#top">Top</a><a href="/bottom">Bottom</a>';
console.log(extractAnchors(html3));
// Expected: [
//   { href: "#top", text: "Top" },
//   { href: "/bottom", text: "Bottom" }
// ]
`,
                "tags": ["HTML", "DOM", "String", "Frontend"]
            },
            {
                "id": 61,
                "name": "Traverse DOM Level by Level",
                "description": "Traverse a DOM tree level by level (breadth-first search).",
                "test_cases": [
                    {
                        "description": "Simple tree",
                        "input": "<div><p></p><span></span></div>",
                        "expected_output": "[div, p, span]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/traverse-DOM-level-by-level",
                "boilerplate": `function traverseLevelByLevel(root) {
  // Your code here
}

// Helper to create simple DOM elements for testing
function createElement(tag, children = []) {
    const el = document.createElement(tag);
    children.forEach(child => {
        if (typeof child === 'string') {
            el.appendChild(document.createTextNode(child));
        } else {
            el.appendChild(child);
        }
    });
    return el;
}

// Example usage (requires a simulated DOM or running in browser):
const tree = createElement('div', [
    createElement('p', [createElement('span', ['A'])]),
    createElement('ul', [
        createElement('li', ['B']),
        createElement('li', ['C'])
    ])
]);

// In a real browser, you'd append this to body or a container.
// document.body.appendChild(tree);

const nodes = traverseLevelByLevel(tree);
console.log(nodes.map(node => node.tagName));
// Expected (approx): ["DIV", "P", "UL", "SPAN", "LI", "LI"]
`,
                "tags": ["DOM", "Tree", "Traversal", "Algorithm", "BFS"]
            },
            {
                "id": 62,
                "name": "Next/Previous Left Sibling",
                "description": "Implement functions to find the next/previous left sibling element.",
                "test_cases": [
                    {
                        "description": "Next left sibling",
                        "input": "Given: <div><p></p><span></span></div>, current: span",
                        "expected_output": "p"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/next-previous-left-sibling",
                "boilerplate": `function nextLeftSibling(node) {
  // Your code here
}

function previousLeftSibling(node) {
  // Your code here
}

// Helper to create simple DOM elements for testing
function createElement(tag, children = []) {
    const el = document.createElement(tag);
    children.forEach(child => {
        if (typeof child === 'string') {
            el.appendChild(document.createTextNode(child));
        } else {
            el.appendChild(child);
        }
    });
    return el;
}

// Example usage (requires a simulated DOM or running in browser):
const container = createElement('div', [
    createElement('span', ['Span 1']),
    createElement('p', ['Paragraph 1']),
    createElement('span', ['Span 2']),
    createElement('p', ['Paragraph 2'])
]);

// In a real browser, you'd append this to body or a container.
// document.body.appendChild(container);

const span2 = container.children[2]; // Span 2
const p1 = container.children[1];    // Paragraph 1

console.log('Next left sibling of Span 2:', nextLeftSibling(span2)?.tagName); // Expected: P
console.log('Previous left sibling of Span 2:', previousLeftSibling(span2)?.tagName); // Expected: P

console.log('Next left sibling of Paragraph 1:', nextLeftSibling(p1)?.tagName); // Expected: SPAN
console.log('Previous left sibling of Paragraph 1:', previousLeftSibling(p1)?.tagName); // Expected: SPAN

console.log('Next left sibling of first child:', nextLeftSibling(container.children[0])); // Expected: null
console.log('Previous left sibling of last child:', previousLeftSibling(container.children[3])); // Expected: SPAN
`,
                "tags": ["DOM", "Traversal"]
            },
            {
                "id": 63,
                "name": "Two-way Binding",
                "description": "Implement a simple two-way data binding system.",
                "test_cases": [
                    {
                        "description": "Input updates model, model updates input",
                        "input": "const data = {value: 'hello'}; const input = document.createElement('input'); bind(input, data, 'value'); input.value = 'world'; input.dispatchEvent(new Event('input')); console.log(data.value); data.value = 'foo'; console.log(input.value);",
                        "expected_output": "'world', 'foo'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/two-way-binding",
                "boilerplate": `function bind(inputElement, dataObject, propertyName) {
  // Your code here
}

// Example usage (requires a simulated DOM or running in browser):
// Assume you have an HTML input element: <input id="myInput" type="text">
// And a data object:
const data = {
  message: 'Initial Message'
};

// For testing purposes, create a dummy input element
const input = document.createElement('input');
input.type = 'text';
input.id = 'myInput';
// document.body.appendChild(input); // Uncomment if running in a real DOM

bind(input, data, 'message');

console.log('Initial input value:', input.value); // Expected: "Initial Message"

// Simulate user typing
input.value = 'Hello World';
input.dispatchEvent(new Event('input')); // Trigger the input event
console.log('Data after input change:', data.message); // Expected: "Hello World"

// Simulate data change from elsewhere
data.message = 'Updated from data';
// The binding should automatically update the input's value
console.log('Input value after data change:', input.value); // Expected: "Updated from data"
`,
                "tags": ["Frontend", "DOM", "Design Pattern"]
            },
            {
                "id": 64,
                "name": "Generate CSS Selectors",
                "description": "Given a DOM element, generate a unique CSS selector for it.",
                "test_cases": [
                    {
                        "description": "Simple element",
                        "input": "document.body.innerHTML = '<div id=\"app\"><p class=\"text\"></p></div>'; getCssSelector(document.querySelector('p'));",
                        "expected_output": "'#app > p.text'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/generate-CSS-selectors",
                "boilerplate": `function getCssSelector(element) {
  // Your code here
}

// Helper to create simple DOM elements for testing
function createElement(tag, attributes = {}, children = []) {
    const el = document.createElement(tag);
    for (const key in attributes) {
        el.setAttribute(key, attributes[key]);
    }
    children.forEach(child => {
        if (typeof child === 'string') {
            el.appendChild(document.createTextNode(child));
        } else {
            el.appendChild(child);
        }
    });
    return el;
}

// Example usage (requires a simulated DOM or running in browser):
const root = createElement('div', { id: 'app' }, [
    createElement('div', { class: 'container' }, [
        createElement('p', { class: 'text' }, ['Hello']),
        createElement('span', { id: 'unique-span' }, ['World'])
    ]),
    createElement('div', { class: 'container' }, [
        createElement('p', { class: 'text' }, ['Another'])
    ])
]);

// In a real browser, you'd append this to body or a container.
// document.body.appendChild(root);

const target1 = root.querySelector('#unique-span');
console.log('Selector for unique-span:', getCssSelector(target1)); // Expected: "#app > div.container > #unique-span"

const target2 = root.querySelector('p.text'); // First p.text
console.log('Selector for first p.text:', getCssSelector(target2)); // Expected: "#app > div.container > p.text:nth-child(1)" or similar

const target3 = root.children[1].children[0]; // Second p.text
console.log('Selector for second p.text:', getCssSelector(target3)); // Expected: "#app > div.container:nth-child(2) > p.text" or similar
`,
                "tags": ["DOM", "Frontend", "Algorithm"]
            },
            {
                "id": 65,
                "name": "Create Cookies",
                "description": "Implement functions to set, get, and delete cookies.",
                "test_cases": [
                    {
                        "description": "Set and get cookie",
                        "input": "setCookie('name', 'value'); getCookie('name');",
                        "expected_output": "'value'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/create-cookies",
                "boilerplate": `function setCookie(name, value, days) {
  // Your code here
}

function getCookie(name) {
  // Your code here
}

function deleteCookie(name) {
  // Your code here
}

// Example usage (requires a browser environment for document.cookie):
// Note: For actual testing, you'd need to run this in a browser.
// In this simulated environment, document.cookie behaves differently.

// setCookie('username', 'JohnDoe', 7);
// console.log('Username cookie:', getCookie('username')); // Expected: "JohnDoe"

// setCookie('theme', 'dark'); // Session cookie
// console.log('Theme cookie:', getCookie('theme')); // Expected: "dark"

// deleteCookie('username');
// console.log('Username cookie after delete:', getCookie('username')); // Expected: "" or null
`,
                "tags": ["Browser API", "Frontend"]
            },
            {
                "id": 66,
                "name": "LocalStorage with Expiration",
                "description": "Implement `localStorage` with a time-to-live (TTL) feature.",
                "test_cases": [
                    {
                        "description": "Set and get within TTL",
                        "input": "setWithExpiry('data', 'test', 1000); getWithExpiry('data');",
                        "expected_output": "'test' (if retrieved within 1 sec)"
                    },
                    {
                        "description": "Get after TTL",
                        "input": "setWithExpiry('data', 'test', 100); setTimeout(() => getWithExpiry('data'), 200);",
                        "expected_output": "null (after 200ms)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/localStorage-with-expiration",
                "boilerplate": `function setWithExpiry(key, value, ttl) {
  // Your code here
}

function getWithExpiry(key) {
  // Your code here
}

// Example usage:
// Set an item that expires in 2 seconds
setWithExpiry('myKey', 'myValue', 2000);
console.log('Immediately after set:', getWithExpiry('myKey')); // Expected: "myValue"

setTimeout(() => {
  console.log('After 1 second:', getWithExpiry('myKey')); // Expected: "myValue"
}, 1000);

setTimeout(() => {
  console.log('After 3 seconds:', getWithExpiry('myKey')); // Expected: null (expired)
}, 3000);

// Set an item without expiry (or very long expiry)
setWithExpiry('persistentKey', 'someData');
console.log('Persistent key:', getWithExpiry('persistentKey')); // Expected: "someData"
`,
                "tags": ["Browser API", "Storage", "Frontend"]
            },
            {
                "id": 67,
                "name": "Async Helpers: sequence",
                "description": "Implement an async helper `sequence` that runs promises in sequence.",
                "test_cases": [
                    {
                        "description": "Running promises in order",
                        "input": "sequence([() => Promise.resolve(1), () => Promise.resolve(2)]).then(console.log);",
                        "expected_output": "[1, 2]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/async-helpers-sequence",
                "boilerplate": `function sequence(tasks) {
  // Your code here
}

// Example usage:
const task1 = () => new Promise(resolve => setTimeout(() => { console.log('Task 1 done'); resolve(1); }, 300));
const task2 = () => new Promise(resolve => setTimeout(() => { console.log('Task 2 done'); resolve(2); }, 100));
const task3 = () => new Promise(resolve => setTimeout(() => { console.log('Task 3 done'); resolve(3); }, 200));

console.log('Starting sequence...');
sequence([task1, task2, task3])
  .then(results => {
    console.log('All tasks in sequence done:', results); // Expected: [1, 2, 3]
  })
  .catch(error => {
    console.error('Sequence error:', error);
  });

const failingTask = () => Promise.reject('Failed task');
sequence([task1, failingTask, task3])
  .then(results => {
    console.log('All tasks in sequence done:', results);
  })
  .catch(error => {
    console.error('Sequence with failure:', error); // Expected to catch 'Failed task'
  });
`,
                "tags": ["Promise", "Async", "Concurrency"]
            },
            {
                "id": 68,
                "name": "Async Helpers: parallel",
                "description": "Implement an async helper `parallel` that runs promises in parallel.",
                "test_cases": [
                    {
                        "description": "Running promises concurrently",
                        "input": "parallel([() => Promise.resolve(1), () => Promise.resolve(2)]).then(console.log);",
                        "expected_output": "[1, 2]"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/async-helpers-parallel",
                "boilerplate": `function parallel(tasks) {
  // Your code here
}

// Example usage:
const task1 = () => new Promise(resolve => setTimeout(() => { console.log('Task 1 done'); resolve(1); }, 300));
const task2 = () => new Promise(resolve => setTimeout(() => { console.log('Task 2 done'); resolve(2); }, 100));
const task3 = () => new Promise(resolve => setTimeout(() => { console.log('Task 3 done'); resolve(3); }, 200));

console.log('Starting parallel...');
parallel([task1, task2, task3])
  .then(results => {
    console.log('All tasks in parallel done:', results); // Expected: [1, 2, 3] (order of results matches input array order)
  })
  .catch(error => {
    console.error('Parallel error:', error);
  });

const failingTask = () => Promise.reject('Failed task');
parallel([task1, failingTask, task3])
  .then(results => {
    console.log('All tasks in parallel done:', results);
  })
  .catch(error => {
    console.error('Parallel with failure:', error); // Expected to catch 'Failed task'
  });
`,
                "tags": ["Promise", "Async", "Concurrency"]
            },
            {
                "id": 69,
                "name": "Async Helpers: race",
                "description": "Implement an async helper `race` that returns the first resolved/rejected promise.",
                "test_cases": [
                    {
                        "description": "First promise resolves",
                        "input": "race([new Promise(r => setTimeout(() => r(1), 100)), new Promise(r => setTimeout(() => r(2), 50))]).then(console.log);",
                        "expected_output": "2"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/async-helpers-race",
                "boilerplate": `function race(tasks) {
  // Your code here
}

// Example usage:
const task1 = () => new Promise(resolve => setTimeout(() => { console.log('Task 1 done'); resolve(1); }, 300));
const task2 = () => new Promise((resolve, reject) => setTimeout(() => { console.log('Task 2 done'); reject('Error from Task 2'); }, 100));
const task3 = () => new Promise(resolve => setTimeout(() => { console.log('Task 3 done'); resolve(3); }, 200));

console.log('Starting race...');
race([task1, task2, task3])
  .then(result => {
    console.log('Race winner:', result); // Expected: (depends on which promise finishes first)
  })
  .catch(error => {
    console.error('Race loser:', error); // Expected: (depends on which promise finishes first and if it rejects)
  });

const p1 = new Promise(resolve => setTimeout(() => resolve('A'), 500));
const p2 = new Promise(resolve => setTimeout(() => resolve('B'), 100));
race([() => p1, () => p2]).then(console.log); // Expected: B
`,
                "tags": ["Promise", "Async", "Concurrency"]
            },
            {
                "id": 70,
                "name": "Fake Timers: setTimeout",
                "description": "Implement a fake `setTimeout` that can be controlled manually.",
                "test_cases": [
                    {
                        "description": "Basic fake setTimeout",
                        "input": "const fakeTimers = new FakeTimers(); let called = false; fakeTimers.setTimeout(() => called = true, 100); fakeTimers.advanceTimersByTime(100); console.log(called);",
                        "expected_output": "true"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/fake-timers-setTimeout",
                "boilerplate": `class FakeTimers {
  constructor() {
    // Your code here
  }

  setTimeout(callback, delay) {
    // Your code here
  }

  clearTimeout(id) {
    // Your code here
  }

  advanceTimersByTime(ms) {
    // Your code here
  }

  runAllTimers() {
    // Your code here
  }

  reset() {
    // Your code here
  }
}

// Example usage:
const timers = new FakeTimers();
let log = [];

timers.setTimeout(() => {
  log.push('A');
}, 100);

timers.setTimeout(() => {
  log.push('B');
}, 50);

console.log('Before advance:', log); // Expected: []

timers.advanceTimersByTime(50);
console.log('After 50ms advance:', log); // Expected: ["B"]

timers.advanceTimersByTime(50);
console.log('After another 50ms advance (total 100ms):', log); // Expected: ["B", "A"]

timers.reset();
log = [];
timers.setTimeout(() => { log.push('C'); }, 200);
timers.runAllTimers();
console.log('After runAllTimers:', log); // Expected: ["C"]
`,
                "tags": ["Testing", "Async", "JavaScript"]
            },
            {
                "id": 71,
                "name": "Fake Timers: setInterval",
                "description": "Implement a fake `setInterval` that can be controlled manually.",
                "test_cases": [
                    {
                        "description": "Basic fake setInterval",
                        "input": "const fakeTimers = new FakeTimers(); let count = 0; const id = fakeTimers.setInterval(() => count++, 100); fakeTimers.advanceTimersByTime(250); console.log(count);",
                        "expected_output": "2"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/fake-timers-setInterval",
                "boilerplate": `class FakeTimers {
  constructor() {
    // Your code here
  }

  setInterval(callback, delay) {
    // Your code here
  }

  clearInterval(id) {
    // Your code here
  }

  advanceTimersByTime(ms) {
    // Your code here
  }

  runAllTimers() {
    // Your code here
  }

  reset() {
    // Your code here
  }
}

// Example usage:
const timers = new FakeTimers();
let count = 0;

const intervalId = timers.setInterval(() => {
  count++;
  console.log('Interval triggered, count:', count);
}, 100);

timers.advanceTimersByTime(50);
console.log('Count after 50ms:', count); // Expected: 0

timers.advanceTimersByTime(50); // Total 100ms
console.log('Count after 100ms:', count); // Expected: 1

timers.advanceTimersByTime(100); // Total 200ms
console.log('Count after 200ms:', count); // Expected: 2

timers.clearInterval(intervalId);
timers.advanceTimersByTime(100); // Should not increment further
console.log('Count after clear and 100ms:', count); // Expected: 2

timers.reset();
count = 0;
timers.setInterval(() => { count++; }, 50);
timers.runAllTimers(); // Runs all pending intervals
console.log('Count after runAllTimers (infinite loop in real scenario, but bounded by max safe iterations here):', count);
`,
                "tags": ["Testing", "Async", "JavaScript"]
            },
            {
                "id": 72,
                "name": "Auto Retry Promise on Rejection",
                "description": "Create a function that retries a promise-returning function a given number of times on rejection.",
                "test_cases": [
                    {
                        "description": "Successful retry",
                        "input": "let attempts = 0; const flakyPromise = () => new Promise((res, rej) => { attempts++; if (attempts < 3) rej('fail'); else res('success'); }); retry(flakyPromise, 3).then(console.log);",
                        "expected_output": "'success' (after 3 attempts)"
                    },
                    {
                        "description": "All retries fail",
                        "input": "const alwaysFail = () => Promise.reject('fail'); retry(alwaysFail, 2).catch(console.error);",
                        "expected_output": "'fail' (after 2 attempts)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/auto-retry-promise-on-rejection",
                "boilerplate": `function retry(promiseFn, retries = 3) {
  // Your code here
}

// Example usage:
let attemptCount = 0;
const flakyOperation = () => {
  attemptCount++;
  console.log(\`Attempt \${attemptCount}\`);
  return new Promise((resolve, reject) => {
    if (attemptCount < 3) {
      reject('Temporary error');
    } else {
      resolve('Data fetched successfully');
    }
  });
};

retry(flakyOperation, 5)
  .then(result => {
    console.log('Final success:', result); // Expected: Data fetched successfully
  })
  .catch(error => {
    console.error('Final failure:', error);
  });

// Example where it always fails
let failCount = 0;
const alwaysFails = () => {
  failCount++;
  console.log(\`Failing attempt \${failCount}\`);
  return Promise.reject('Always fails');
};

retry(alwaysFails, 2)
  .then(result => {
    console.log('Should not succeed:', result);
  })
  .catch(error => {
    console.error('Caught final error:', error); // Expected: Caught final error: Always fails
  });
`,
                "tags": ["Promise", "Async", "Error Handling"]
            },
            {
                "id": 73,
                "name": "Throttling Promises",
                "description": "Implement a promise-based throttling mechanism to limit concurrent promise executions.",
                "test_cases": [
                    {
                        "description": "Limit to 2 concurrent promises",
                        "input": "const tasks = [..., ...]; throttlePromises(tasks, 2);",
                        "expected_output": "Promises execute in batches of 2"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/throttling-promises",
                "boilerplate": `function throttlePromises(tasks, limit) {
  // Your code here
}

// Helper to create a dummy promise task
const createAsyncTask = (id, delay) => () => {
  return new Promise(resolve => {
    console.log(\`Task \${id} started\`);
    setTimeout(() => {
      console.log(\`Task \${id} finished\`);
      resolve(id);
    }, delay);
  });
};

// Example usage:
const tasks = [
  createAsyncTask(1, 500),
  createAsyncTask(2, 200),
  createAsyncTask(3, 800),
  createAsyncTask(4, 300),
  createAsyncTask(5, 100)
];

console.log('Throttling promises with limit 2...');
throttlePromises(tasks, 2)
  .then(results => {
    console.log('All throttled tasks completed:', results);
  })
  .catch(error => {
    console.error('Throttling error:', error);
  });
`,
                "tags": ["Promise", "Async", "Concurrency"]
            },
            {
                "id": 74,
                "name": "Merge Identical API Calls",
                "description": "Implement a function that merges identical API calls to prevent redundant requests.",
                "test_cases": [
                    {
                        "description": "Multiple calls to same URL",
                        "input": "const fetcher = createFetcher(); fetcher('/api/data'); fetcher('/api/data');",
                        "expected_output": "API called only once"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/merge-identical-API-calls",
                "boilerplate": `function createFetcher() {
  // Your code here
}

// Simulate an API call
const mockApiCall = (url) => {
  console.log(\`Making API call to: \${url}\`);
  return new Promise(resolve => {
    setTimeout(() => {
      resolve(\`Data from \${url}\`);
    }, 500);
  });
};

// Example usage:
const fetcher = createFetcher();

console.log('First call to /data1');
fetcher('/data1').then(data => console.log('Result 1:', data));

console.log('Second call to /data1 (should be merged)');
fetcher('/data1').then(data => console.log('Result 2:', data));

console.log('First call to /data2');
fetcher('/data2').then(data => console.log('Result 3:', data));

setTimeout(() => {
  console.log('Third call to /data1 (after a delay, might be new)');
  fetcher('/data1').then(data => console.log('Result 4:', data));
}, 1000);
`,
                "tags": ["API", "Async", "Optimization", "Frontend"]
            },
            {
                "id": 75,
                "name": "Create an Interval",
                "description": "Implement a custom interval function that can be paused, resumed, and cleared.",
                "test_cases": [
                    {
                        "description": "Pause and resume",
                        "input": "const interval = createInterval(() => console.log('tick'), 100); interval.pause(); interval.resume();",
                        "expected_output": "tick... (pauses, then resumes)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/create-an-interval",
                "boilerplate": `function createInterval(callback, delay) {
  // Your code here
}

// Example usage:
let count = 0;
const myInterval = createInterval(() => {
  count++;
  console.log(\`Interval tick: \${count}\`);
}, 100);

console.log('Interval started...');

setTimeout(() => {
  console.log('Pausing interval...');
  myInterval.pause();
}, 250); // Should have ticked 2-3 times

setTimeout(() => {
  console.log('Resuming interval...');
  myInterval.resume();
}, 500);

setTimeout(() => {
  console.log('Clearing interval...');
  myInterval.clear();
}, 800);

// After clearing, no more ticks should occur.
setTimeout(() => {
  console.log('Final count:', count);
}, 1000);
`,
                "tags": ["Async", "JavaScript", "Timer"]
            },
            {
                "id": 76,
                "name": "Detect Data Types",
                "description": "Implement a function to accurately detect the type of a given JavaScript value.",
                "test_cases": [
                    {
                        "description": "Detecting array",
                        "input": "detectType([])",
                        "expected_output": "'array'"
                    },
                    {
                        "description": "Detecting null",
                        "input": "detectType(null)",
                        "expected_output": "'null'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/detect-data-types",
                "boilerplate": `function detectType(value) {
  // Your code here
}

// Example usage:
console.log(detectType(1));            // Expected: "number"
console.log(detectType("hello"));      // Expected: "string"
console.log(detectType(true));         // Expected: "boolean"
console.log(detectType(undefined));    // Expected: "undefined"
console.log(detectType(null));         // Expected: "null"
console.log(detectType({}));           // Expected: "object"
console.log(detectType([]));           // Expected: "array"
console.log(detectType(() => {}));     // Expected: "function"
console.log(detectType(new Date()));   // Expected: "date"
console.log(detectType(/a/));          // Expected: "regexp"
console.log(detectType(new Map()));    // Expected: "map"
console.log(detectType(new Set()));    // Expected: "set"
console.log(detectType(Symbol('foo'))); // Expected: "symbol"
console.log(detectType(BigInt(10)));   // Expected: "bigint"
`,
                "tags": ["JavaScript", "Type Checking"]
            },
            {
                "id": 77,
                "name": "Implement Immer produce()",
                "description": "Implement a simplified version of Immer's `produce()` function for immutable state updates.",
                "test_cases": [
                    {
                        "description": "Modifying a nested property",
                        "input": "const baseState = {a: 1, b: {c: 2}}; const nextState = produce(baseState, draft => { draft.b.c = 3; }); console.log(baseState.b.c, nextState.b.c);",
                        "expected_output": "2, 3"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-Immer-produce",
                "boilerplate": `function produce(baseState, recipe) {
  // Your code here
}

// Example usage:
const baseState = {
  a: 1,
  b: {
    c: 2,
    d: [3, 4]
  },
  e: 'hello'
};

const nextState1 = produce(baseState, draft => {
  draft.a = 5;
  draft.b.c = 99;
  draft.b.d.push(5);
});

console.log('Base State:', JSON.stringify(baseState, null, 2));
console.log('Next State 1:', JSON.stringify(nextState1, null, 2));
console.log('Are baseState and nextState1 the same object?', baseState === nextState1); // Expected: false
console.log('Are baseState.b and nextState1.b the same object?', baseState.b === nextState1.b); // Expected: false

const nextState2 = produce(baseState, draft => {
  // No changes made
});
console.log('Next State 2 (no changes):', JSON.stringify(nextState2, null, 2));
console.log('Are baseState and nextState2 the same object?', baseState === nextState2); // Expected: true (optimization)
`,
                "tags": ["State Management", "Immutability", "JavaScript"]
            },
            {
                "id": 78,
                "name": "Middleware System",
                "description": "Implement a simple middleware system for a request/response flow.",
                "test_cases": [
                    {
                        "description": "Chaining middleware",
                        "input": "const app = new MiddlewareApp(); app.use((req, res, next) => { req.user = 'guest'; next(); }); app.use((req, res, next) => { res.data = `Hello, ${req.user}`; next(); }); app.handle({}, {});",
                        "expected_output": "{data: 'Hello, guest'}"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/middleware-system",
                "boilerplate": `class MiddlewareSystem {
  constructor() {
    // Your code here
  }

  use(middleware) {
    // Your code here
  }

  handle(req, res) {
    // Your code here
  }
}

// Example usage:
const app = new MiddlewareSystem();

// Middleware 1: Add user info
app.use((req, res, next) => {
  req.user = 'Alice';
  console.log('Middleware 1: User set to', req.user);
  next();
});

// Middleware 2: Add timestamp
app.use((req, res, next) => {
  req.timestamp = new Date().toISOString();
  console.log('Middleware 2: Timestamp added', req.timestamp);
  next();
});

// Middleware 3: Process request and send response
app.use((req, res, next) => {
  res.message = \`Hello \${req.user} at \${req.timestamp}\`;
  console.log('Middleware 3: Response message set');
  next(); // Even if it's the last, next() should be called
});

// Final handler (optional, but good practice for logging/sending)
app.use((req, res) => {
  console.log('Final handler: Sending response', res);
});

const request = {};
const response = {};
app.handle(request, response);

console.log('Final Request:', request);
console.log('Final Response:', response);
`,
                "tags": ["Design Pattern", "Function"]
            },
            {
                "id": 79,
                "name": "Write `extends` in ES5",
                "description": "Implement class inheritance (`extends`) using ES5 syntax.",
                "test_cases": [
                    {
                        "description": "Basic inheritance",
                        "input": "function Animal(name) { this.name = name; } function Dog(name) { Animal.call(this, name); } extends(Dog, Animal); const myDog = new Dog('Buddy'); myDog.name;",
                        "expected_output": "'Buddy'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/write-extends-in-ES5",
                "boilerplate": `function myExtends(Child, Parent) {
  // Your code here
}

// Example usage:
function Animal(name) {
  this.name = name;
}

Animal.prototype.speak = function() {
  console.log(this.name + ' makes a sound.');
};

function Dog(name, breed) {
  Animal.call(this, name);
  this.breed = breed;
}

myExtends(Dog, Animal); // Apply inheritance

Dog.prototype.bark = function() {
  console.log(this.name + ' barks!');
};

const myDog = new Dog('Buddy', 'Golden Retriever');
console.log(myDog.name); // Expected: Buddy
console.log(myDog.breed); // Expected: Golden Retriever
myDog.speak(); // Expected: Buddy makes a sound.
myDog.bark();  // Expected: Buddy barks!

console.log(myDog instanceof Dog);    // Expected: true
console.log(myDog instanceof Animal); // Expected: true
`,
                "tags": ["OOP", "JavaScript", "Inheritance"]
            },
            {
                "id": 80,
                "name": "Flatten Thunk",
                "description": "Flatten a nested thunk function (a function that returns another function).",
                "test_cases": [
                    {
                        "description": "Simple nested thunk",
                        "input": "flattenThunk(() => () => 1)",
                        "expected_output": "1"
                    },
                    {
                        "description": "Deeply nested thunk",
                        "input": "flattenThunk(() => () => () => 'hello')",
                        "expected_output": "'hello'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/flatten-Thunk",
                "boilerplate": `function flattenThunk(thunk) {
  // Your code here
}

// Example usage:
const thunk1 = () => 1;
console.log(flattenThunk(thunk1)); // Expected: 1

const thunk2 = () => () => 2;
console.log(flattenThunk(thunk2)); // Expected: 2

const thunk3 = () => () => () => 'hello';
console.log(flattenThunk(thunk3)); // Expected: "hello"

const thunk4 = () => {
  console.log('Executing outer thunk');
  return () => {
    console.log('Executing inner thunk');
    return 42;
  };
};
console.log(flattenThunk(thunk4)); // Expected: 42 (with console logs)
`,
                "tags": ["Function", "Recursion", "JavaScript"]
            },
            {
                "id": 81,
                "name": "Call APIs with Pagination",
                "description": "Fetch data from a paginated API until all data is retrieved or a limit is reached.",
                "test_cases": [
                    {
                        "description": "Fetch all pages",
                        "input": "fetchPaginatedData(apiFn, 3)",
                        "expected_output": "All data from 3 pages"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/call-APIs-with-pagination",
                "boilerplate": `async function fetchPaginatedData(apiCall, pageLimit = Infinity) {
  // Your code here
}

// Mock API function that simulates pagination
let currentPage = 0;
const mockApi = (page) => {
  console.log(\`Fetching page \${page}\`);
  return new Promise(resolve => {
    setTimeout(() => {
      if (page < 3) { // Simulate 3 pages of data
        resolve({
          data: \`Data for page \${page}\`,
          nextPage: page + 1
        });
      } else {
        resolve({
          data: \`Data for page \${page}\`,
          nextPage: null // No more pages
        });
      }
    }, 200);
  });
};

// Reset mock API for fresh runs
const resetMockApi = () => { currentPage = 0; };
const apiFn = () => {
  currentPage++;
  return mockApi(currentPage);
};


console.log('Fetching all pages...');
resetMockApi();
fetchPaginatedData(apiFn)
  .then(allData => {
    console.log('All data fetched:', allData);
  })
  .catch(error => {
    console.error('Error fetching data:', error);
  });

console.log('\\nFetching with page limit 2...');
resetMockApi();
fetchPaginatedData(apiFn, 2)
  .then(limitedData => {
    console.log('Limited data fetched:', limitedData);
  })
  .catch(error => {
    console.error('Error fetching limited data:', error);
  });
`,
                "tags": ["API", "Async", "Frontend"]
            },
            {
                "id": 82,
                "name": "Create Observables",
                "description": "Implement a basic Observable similar to RxJS.",
                "test_cases": [
                    {
                        "description": "Basic observable",
                        "input": "const obs = new Observable(subscriber => { subscriber.next(1); subscriber.complete(); }); obs.subscribe(console.log);",
                        "expected_output": "1"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/create-Observables",
                "boilerplate": `class Observable {
  constructor(subscribe) {
    // Your code here
  }

  subscribe(observer) {
    // Your code here
  }
}

// Example usage:
const myObservable = new Observable(subscriber => {
  console.log('Observable started');
  let count = 0;
  const intervalId = setInterval(() => {
    subscriber.next(count++);
    if (count > 3) {
      subscriber.complete();
      clearInterval(intervalId);
    }
  }, 100);

  // Return an unsubscribe function
  return () => {
    clearInterval(intervalId);
    console.log('Observable stopped');
  };
});

console.log('Subscribing...');
const subscription = myObservable.subscribe({
  next: value => console.log('Received:', value),
  error: err => console.error('Error:', err),
  complete: () => console.log('Completed!')
});

setTimeout(() => {
  console.log('Unsubscribing after 250ms...');
  subscription.unsubscribe();
}, 250); // Should receive 0, 1, 2 then unsubscribe
`,
                "tags": ["RxJS", "Async", "Design Pattern"]
            },
            {
                "id": 83,
                "name": "Add Commas to Numbers",
                "description": "Format a number string by adding commas as thousands separators.",
                "test_cases": [
                    {
                        "description": "Basic number",
                        "input": "addCommas('12345')",
                        "expected_output": "'12,345'"
                    },
                    {
                        "description": "Number with decimals",
                        "input": "addCommas('12345.67')",
                        "expected_output": "'12,345.67'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/add-commas-to-numbers",
                "boilerplate": `function addCommas(numStr) {
  // Your code here
}

// Example usage:
console.log(addCommas('12345'));        // Expected: "12,345"
console.log(addCommas('1234567'));      // Expected: "1,234,567"
console.log(addCommas('123'));          // Expected: "123"
console.log(addCommas('12345.678'));    // Expected: "12,345.678"
console.log(addCommas('123456789.0123')); // Expected: "123,456,789.0123"
console.log(addCommas('0'));            // Expected: "0"
console.log(addCommas('-12345'));       // Expected: "-12,345"
`,
                "tags": ["String", "Number", "Formatting"]
            },
            {
                "id": 84,
                "name": "Convert HEX to RGBA",
                "description": "Convert a HEX color string to an RGBA color string.",
                "test_cases": [
                    {
                        "description": "Full HEX",
                        "input": "hexToRgba('#FF0000', 0.5)",
                        "expected_output": "'rgba(255, 0, 0, 0.5)'"
                    },
                    {
                        "description": "Short HEX",
                        "input": "hexToRgba('#F00')",
                        "expected_output": "'rgba(255, 0, 0, 1)'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/convert-HEX-to-RGBA",
                "boilerplate": `function hexToRgba(hex, alpha = 1) {
  // Your code here
}

// Example usage:
console.log(hexToRgba('#FF0000'));        // Expected: "rgba(255, 0, 0, 1)"
console.log(hexToRgba('#00FF00', 0.7));    // Expected: "rgba(0, 255, 0, 0.7)"
console.log(hexToRgba('#00F'));           // Expected: "rgba(0, 0, 255, 1)"
console.log(hexToRgba('#F0F0F0', 0.2));    // Expected: "rgba(240, 240, 240, 0.2)"
console.log(hexToRgba('#123456'));        // Expected: "rgba(18, 52, 86, 1)"
`,
                "tags": ["String", "Color", "Frontend"]
            },
            {
                "id": 85,
                "name": "snake_case to camelCase",
                "description": "Convert a string from `snake_case` to `camelCase`.",
                "test_cases": [
                    {
                        "description": "Basic conversion",
                        "input": "snakeToCamel('hello_world')",
                        "expected_output": "'helloWorld'"
                    },
                    {
                        "description": "Multiple underscores",
                        "input": "snakeToCamel('foo_bar_baz')",
                        "expected_output": "'fooBarBaz'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/snake_case-to-camelCase",
                "boilerplate": `function snakeToCamel(str) {
  // Your code here
}

// Example usage:
console.log(snakeToCamel('hello_world'));        // Expected: "helloWorld"
console.log(snakeToCamel('foo_bar_baz'));       // Expected: "fooBarBaz"
console.log(snakeToCamel('single_word'));       // Expected: "singleWord"
console.log(snakeToCamel('no_underscore'));     // Expected: "noUnderscore"
console.log(snakeToCamel('alreadyCamelCase'));  // Expected: "alreadyCamelCase"
console.log(snakeToCamel(''));                   // Expected: ""
console.log(snakeToCamel('_leading_underscore')); // Expected: "LeadingUnderscore" (or _leadingUnderscore depending on spec)
`,
                "tags": ["String", "Utility", "Frontend"]
            },
            {
                "id": 86,
                "name": "Implement URLSearchParams",
                "description": "Implement a simplified version of `URLSearchParams`.",
                "test_cases": [
                    {
                        "description": "Parsing a query string",
                        "input": "const params = new MyURLSearchParams('?a=1&b=2'); params.get('a');",
                        "expected_output": "'1'"
                    },
                    {
                        "description": "Appending a parameter",
                        "input": "const params = new MyURLSearchParams(); params.append('c', '3'); params.toString();",
                        "expected_output": "'c=3'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/implement-URLSearchParams",
                "boilerplate": `class MyURLSearchParams {
  constructor(init) {
    // Your code here
  }

  append(name, value) {
    // Your code here
  }

  delete(name) {
    // Your code here
  }

  get(name) {
    // Your code here
  }

  getAll(name) {
    // Your code here
  }

  has(name) {
    // Your code here
  }

  set(name, value) {
    // Your code here
  }

  sort() {
    // Your code here
  }

  toString() {
    // Your code here
  }

  // Optional: iterator
  *[Symbol.iterator]() {
    // Your code here
  }
}

// Example usage:
const params1 = new MyURLSearchParams('?a=1&b=2&a=3');
console.log('Get a:', params1.get('a'));     // Expected: "1"
console.log('Get all a:', params1.getAll('a')); // Expected: ["1", "3"]
console.log('Has b:', params1.has('b'));     // Expected: true
console.log('Has c:', params1.has('c'));     // Expected: false

params1.append('c', '4');
console.log('After append c=4:', params1.toString()); // Expected: "a=1&b=2&a=3&c=4"

params1.set('b', 'newB');
console.log('After set b=newB:', params1.toString()); // Expected: "a=1&b=newB&a=3&c=4"

params1.delete('a');
console.log('After delete a:', params1.toString()); // Expected: "b=newB&c=4"

const params2 = new MyURLSearchParams('b=2&a=1');
params2.sort();
console.log('Sorted params2:', params2.toString()); // Expected: "a=1&b=2"
`,
                "tags": ["Browser API", "String", "Frontend"]
            },
            {
                "id": 87,
                "name": "Validate IP Address",
                "description": "Validate if a given string is a valid IPv4 or IPv6 address.",
                "test_cases": [
                    {
                        "description": "Valid IPv4",
                        "input": "validateIPAddress('192.168.1.1')",
                        "expected_output": "'IPv4'"
                    },
                    {
                        "description": "Valid IPv6",
                        "input": "validateIPAddress('2001:0db8:85a3:0:0:8a2e:0370:7334')",
                        "expected_output": "'IPv6'"
                    },
                    {
                        "description": "Invalid IP",
                        "input": "validateIPAddress('256.256.256.256')",
                        "expected_output": "'Neither'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/validate-IP-address",
                "boilerplate": `function validateIPAddress(IP) {
  // Your code here
}

// Example usage:
console.log(validateIPAddress("172.16.254.1"));        // Expected: "IPv4"
console.log(validateIPAddress("2001:0db8:85a3:0:0:8A2E:0370:7334")); // Expected: "IPv6"
console.log(validateIPAddress("256.256.256.256"));     // Expected: "Neither"
console.log(validateIPAddress("2001:0db8:85a3:0:0:8A2E:0370:7334:")); // Expected: "Neither" (extra colon)
console.log(validateIPAddress("1.1.1.0.1"));          // Expected: "Neither" (too many parts)
console.log(validateIPAddress("0.0.0.0"));            // Expected: "IPv4"
console.log(validateIPAddress("::1"));               // Expected: "IPv6" (shortened)
`,
                "tags": ["String", "Validation", "Networking"]
            },
            {
                "id": 88,
                "name": "Validate Parentheses String",
                "description": "Given a string containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.",
                "test_cases": [
                    {
                        "description": "Valid string",
                        "input": "isValid('()[]{}')",
                        "expected_output": "true"
                    },
                    {
                        "description": "Invalid string",
                        "input": "isValid('([)]')",
                        "expected_output": "false"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/validate-parentheses-string",
                "boilerplate": `function isValid(s) {
  // Your code here
}

// Example usage:
console.log(isValid("()"));      // Expected: true
console.log(isValid("()[]{}"));  // Expected: true
console.log(isValid("([{}])"));  // Expected: true
console.log(isValid("(]"));      // Expected: false
console.log(isValid("([)]"));    // Expected: false
console.log(isValid("{[]}"));    // Expected: true
console.log(isValid(""));        // Expected: true
`,
                "tags": ["String", "Validation", "Stack"]
            },
            {
                "id": 89,
                "name": "Calculator",
                "description": "Implement a basic calculator to evaluate a simple expression string.",
                "test_cases": [
                    {
                        "description": "Basic addition",
                        "input": "calculate('1 + 1')",
                        "expected_output": "2"
                    },
                    {
                        "description": "With subtraction and spaces",
                        "input": "calculate(' 2-1 + 2 ')",
                        "expected_output": "3"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/calculator",
                "boilerplate": `function calculate(s) {
  // Your code here
}

// Example usage:
console.log(calculate("1 + 1"));       // Expected: 2
console.log(calculate(" 2-1 + 2 "));    // Expected: 3
console.log(calculate("(1+(4+5+2)-3)+(6+8)")); // Expected: 23
console.log(calculate("1"));            // Expected: 1
console.log(calculate("-1 + 2"));       // Expected: 1
console.log(calculate("1 - (5 - 2)"));  // Expected: -2
`,
                "tags": ["Algorithm", "Math", "String", "Stack"]
            },
            {
                "id": 90,
                "name": "LazyMan",
                "description": "Implement a `LazyMan` class that supports chaining and delayed execution.",
                "test_cases": [
                    {
                        "description": "Basic chaining",
                        "input": "LazyMan('Hank').eat('dinner').sleep(10).eat('supper');",
                        "expected_output": "Hi! This is Hank!\nEat dinner\n(wait 10 seconds)\nWake up after 10\nEat supper"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/LazyMan",
                "boilerplate": `function LazyMan(name) {
  // Your code here
}

// Example usage:
// LazyMan('Hank').eat('dinner').sleep(10).eat('supper');
// Expected output (with delays):
// Hi! This is Hank!
// Eat dinner
// (wait 10 seconds)
// Wake up after 10
// Eat supper

// LazyMan('Tony').sleep(5).eat('lunch');
// Expected output (with delays):
// Hi! This is Tony!
// (wait 5 seconds)
// Wake up after 5
// Eat lunch

// LazyMan('Peter').eat('lunch').sleepFirst(5).eat('dinner');
// Expected output (with delays):
// (wait 5 seconds)
// Wake up after 5
// Hi! This is Peter!
// Eat lunch
// Eat dinner
`,
                "tags": ["Design Pattern", "Async", "Function Chaining"]
            },
            {
                "id": 91,
                "name": "Angle Between Clock Hands",
                "description": "Calculate the angle between the hour and minute hands of a clock.",
                "test_cases": [
                    {
                        "description": "3:00",
                        "input": "angleClock(3, 0)",
                        "expected_output": "90"
                    },
                    {
                        "description": "3:30",
                        "input": "angleClock(3, 30)",
                        "expected_output": "75"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/angle-between-clock-hands",
                "boilerplate": `function angleClock(hour, minutes) {
  // Your code here
}

// Example usage:
console.log(angleClock(12, 0));  // Expected: 0
console.log(angleClock(3, 0));   // Expected: 90
console.log(angleClock(3, 30));  // Expected: 75
console.log(angleClock(1, 57));  // Expected: 76.5
console.log(angleClock(6, 0));   // Expected: 180
console.log(angleClock(12, 30)); // Expected: 165
`,
                "tags": ["Math", "Algorithm"]
            },
            {
                "id": 92,
                "name": "lit-html",
                "description": "Implement a simplified version of `lit-html` for declarative HTML rendering.",
                "test_cases": [
                    {
                        "description": "Basic template literal",
                        "input": "html`<h1>Hello ${name}</h1>`",
                        "expected_output": "HTML element with 'Hello [name]'"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/lit-html",
                "boilerplate": `function html(strings, ...values) {
  // Your code here
}

// Helper to render the result to a container for observation
function render(templateResult, container) {
  // This part would typically be handled by a full lit-html implementation
  // For this problem, you might just return an object representing the DOM structure
  // or focus on the string interpolation aspect.
  // For demonstration, we'll simulate rendering to a div.
  if (container instanceof HTMLElement) {
    container.innerHTML = templateResult.html; // Simplified
    // You would also handle dynamic parts / values here
  }
}

// Example usage (requires a simulated DOM or running in browser):
const name = 'World';
const myTemplate = html\`<h1>Hello \${name}!</h1><p>Count: \${1 + 2}</p>\`;

// Simulate a container
const containerDiv = document.createElement('div');
// document.body.appendChild(containerDiv); // Uncomment to see in browser DOM

// Render the template (simplified)
// In a full lit-html, this would update efficiently.
// Here, we just show the HTML string.
console.log('Generated HTML string:', myTemplate.html);
// Expected: "<h1>Hello <!--?-->!</h1><p>Count: <!--?--></p>" (with placeholders)
// The actual values would be handled by lit-html's rendering engine.

// If you want to see the actual rendered content:
// render(myTemplate, containerDiv);
// console.log('Rendered div content:', containerDiv.innerHTML);
`,
                "tags": ["Frontend", "Templating", "DOM"]
            },
            {
                "id": 93,
                "name": "Virtual DOM I - createElement",
                "description": "Implement a `createElement` function for a virtual DOM.",
                "test_cases": [
                    {
                        "description": "Basic element",
                        "input": "createElement('div', {id: 'app'}, 'Hello')",
                        "expected_output": "{type: 'div', props: {id: 'app', children: ['Hello']}}"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/Virtual-DOM-I-createElement",
                "boilerplate": `function createElement(type, props, ...children) {
  // Your code here
}

// Example usage:
const vnode1 = createElement('div', { id: 'app' }, 'Hello World');
console.log('VNode 1:', JSON.stringify(vnode1, null, 2));
// Expected: { type: 'div', props: { id: 'app', children: ['Hello World'] } }

const vnode2 = createElement('ul', null,
  createElement('li', null, 'Item 1'),
  createElement('li', { class: 'active' }, 'Item 2')
);
console.log('VNode 2:', JSON.stringify(vnode2, null, 2));
// Expected: {
//   "type": "ul",
//   "props": {
//     "children": [
//       { "type": "li", "props": { "children": ["Item 1"] } },
//       { "type": "li", "props": { "class": "active", "children": ["Item 2"] } }
//     ]
//   }
// }

const vnode3 = createElement('span');
console.log('VNode 3:', JSON.stringify(vnode3, null, 2));
// Expected: { type: 'span', props: { children: [] } }
`,
                "tags": ["Virtual DOM", "Frontend", "React"]
            },
            {
                "id": 94,
                "name": "Virtual DOM II - Functional Component",
                "description": "Extend `createElement` to support functional components.",
                "test_cases": [
                    {
                        "description": "Functional component",
                        "input": "const MyComponent = ({name}) => createElement('h1', null, `Hello ${name}`); createElement(MyComponent, {name: 'Alice'});",
                        "expected_output": "{type: 'h1', props: {children: ['Hello Alice']}}"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/Virtual-DOM-II-Functional-Component",
                "boilerplate": `function createElement(type, props, ...children) {
  // Your existing createElement logic
  // Add support for functional components here
  if (typeof type === 'function') {
    return type({ ...props, children });
  }

  return {
    type,
    props: {
      ...props,
      children: children.flat() // Flatten children array
    }
  };
}

// Example Functional Component
const Greeting = ({ name }) => {
  return createElement('h1', null, \`Hello, \${name}!\`);
};

const Button = ({ onClick, text }) => {
  return createElement('button', { onClick }, text);
};

// Example usage:
const vnode1 = createElement(Greeting, { name: 'Alice' });
console.log('VNode from Functional Component (Greeting):', JSON.stringify(vnode1, null, 2));
// Expected: { "type": "h1", "props": { "children": ["Hello, Alice!"] } }

const vnode2 = createElement('div', null,
  createElement(Button, { onClick: () => console.log('Clicked!'), text: 'Click Me' }),
  createElement(Greeting, { name: 'Bob' })
);
console.log('VNode with nested Functional Components:', JSON.stringify(vnode2, null, 2));
// Expected: {
//   "type": "div",
//   "props": {
//     "children": [
//       { "type": "button", "props": { "onClick": "function", "children": ["Click Me"] } },
//       { "type": "h1", "props": { "children": ["Hello, Bob!"] } }
//     ]
//   }
// }
`,
                "tags": ["Virtual DOM", "Frontend", "React", "Component"]
            },
            {
                "id": 95,
                "name": "Virtual DOM III - JSX 1",
                "description": "Implement a Babel-like JSX transform function for basic elements.",
                "test_cases": [
                    {
                        "description": "Basic JSX to createElement",
                        "input": "`<div>Hello</div>` (conceptual JSX)",
                        "expected_output": "createElement('div', null, 'Hello')"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/Virtual-DOM-III-JSX-1",
                "boilerplate": `// This problem is about implementing the Babel transform,
// not directly runnable in a browser without a transpiler.
// The solution would involve parsing JSX string into createElement calls.

// Conceptual implementation of a JSX transform function
// This is NOT a runnable function, but demonstrates the concept.
function jsxTransform(jsxString) {
  // This is where you'd parse the JSX string
  // and convert it into createElement calls.
  // For example:
  // if (jsxString === '<div>Hello</div>') {
  //   return "createElement('div', null, 'Hello')";
  // }
  // ... more complex parsing logic
  return "/* Implement a JSX parsing and transformation logic here */";
}

// Assuming createElement from previous problem is available
function createElement(type, props, ...children) {
  if (typeof type === 'function') {
    return type({ ...props, children });
  }
  return {
    type,
    props: {
      ...props,
      children: children.flat()
    }
  };
}

// Example of what the output of a JSX transform would look like:
const jsxExample = \`
  <div id="app">
    <p className="text">Hello</p>
  </div>
\`;

console.log('Conceptual JSX Transform Output:');
console.log(
  '// This would be the result of a Babel-like JSX transform:\n',
  'createElement("div", { id: "app" },\n',
  '  createElement("p", { className: "text" }, "Hello")\n',
  ');'
);

// To actually run this, you'd need a transpiler like Babel.
// For the purpose of this problem, the focus is on the *logic* of transformation.
`,
                "tags": ["Virtual DOM", "Frontend", "JSX", "Babel"]
            },
            {
                "id": 96,
                "name": "Virtual DOM IV - JSX 2",
                "description": "Extend JSX transform to handle props and nested elements.",
                "test_cases": [
                    {
                        "description": "JSX with props and nested",
                        "input": "`<div id=\"app\"><p class=\"text\">Hello</p></div>`",
                        "expected_output": "createElement('div', {id: 'app'}, createElement('p', {class: 'text'}, 'Hello'))"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/Virtual-DOM-IV-JSX-2",
                "boilerplate": `// This problem builds on Virtual DOM III.
// It's about extending the JSX transform to handle more complex scenarios.

// Conceptual implementation of a JSX transform function
// This is NOT a runnable function, but demonstrates the concept.
function jsxTransformAdvanced(jsxString) {
  // This is where you'd parse the JSX string
  // and convert it into createElement calls, handling:
  // - Attributes (props)
  // - Nested elements
  // - Text nodes
  // - Expressions within {} (more advanced)
  return "/* Implement a more advanced JSX parsing and transformation logic here */";
}

// Assuming createElement from previous problem is available
function createElement(type, props, ...children) {
  if (typeof type === 'function') {
    return type({ ...props, children });
  }
  return {
    type,
    props: {
      ...props,
      children: children.flat()
    }
  };
}

// Example of what the output of an advanced JSX transform would look like:
const jsxExampleAdvanced = \`
  <div id="root" data-value={123}>
    <Header title="My App" />
    <section>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </section>
  </div>
\`;

console.log('Conceptual Advanced JSX Transform Output:');
console.log(
  '// This would be the result of a Babel-like JSX transform for complex JSX:\n',
  'createElement("div", { id: "root", "data-value": 123 },\n',
  '  createElement(Header, { title: "My App" }),\n',
  '  createElement("section", null,\n',
  '    createElement("p", null, "Count: ", count),\n',
  '    createElement("button", { onClick: () => setCount(count + 1) }, "Increment")\n',
  '  )\n',
  ');'
);

// Again, for actual execution, a transpiler is needed.
`,
                "tags": ["Virtual DOM", "Frontend", "JSX", "Babel"]
            },
            {
                "id": 97,
                "name": "Serialize/Deserialize Data Types Not Supported in JSON",
                "description": "Implement functions to serialize and deserialize JavaScript data types that `JSON.stringify`/`parse` don't handle (e.g., `Date`, `RegExp`, `Map`, `Set`).",
                "test_cases": [
                    {
                        "description": "Serialize Date",
                        "input": "const d = new Date(); customSerialize(d);",
                        "expected_output": "String representation of Date"
                    },
                    {
                        "description": "Deserialize Date",
                        "input": "customDeserialize(serializedDateString);",
                        "expected_output": "Date object"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/serialize-deserialize-data-types-not-supported-in-JSON",
                "boilerplate": `function customSerialize(data) {
  // Your code here
}

function customDeserialize(serializedData) {
  // Your code here
}

// Example usage:
const originalData = {
  a: 1,
  b: 'hello',
  c: new Date(),
  d: /abc/g,
  e: new Map([['key1', 'value1'], ['key2', 123]]),
  f: new Set([1, 2, 'three']),
  g: null,
  h: undefined, // Will be lost by JSON.stringify unless handled explicitly
  i: function() { console.log('function'); } // Will be lost by JSON.stringify
};

console.log('Original Data:', originalData);

const serialized = customSerialize(originalData);
console.log('Serialized Data:', serialized);

const deserialized = customDeserialize(serialized);
console.log('Deserialized Data:', deserialized);

// Verify types and values after deserialization
console.log('Deserialized.c is Date?', deserialized.c instanceof Date);
console.log('Deserialized.d is RegExp?', deserialized.d instanceof RegExp);
console.log('Deserialized.e is Map?', deserialized.e instanceof Map);
console.log('Deserialized.f is Set?', deserialized.f instanceof Set);
`,
                "tags": ["Serialization", "Data Type", "JavaScript"]
            },
            {
                "id": 98,
                "name": "Most Frequently Occurring Character",
                "description": "Find the character that appears most frequently in a string.",
                "test_cases": [
                    {
                        "description": "Basic string",
                        "input": "mostFrequentChar('banana')",
                        "expected_output": "'a'"
                    },
                    {
                        "description": "Tie",
                        "input": "mostFrequentChar('aabbc')",
                        "expected_output": "'a' or 'b' (depending on tie-breaking rule)"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/most-frequently-occurring-character",
                "boilerplate": `function mostFrequentChar(str) {
  // Your code here
}

// Example usage:
console.log(mostFrequentChar('banana'));       // Expected: "a"
console.log(mostFrequentChar('aabbc'));        // Expected: "a" (or "b" depending on implementation)
console.log(mostFrequentChar('Mississippi')); // Expected: "i"
console.log(mostFrequentChar(''));             // Expected: "" or null
console.log(mostFrequentChar('abcde'));        // Expected: "a" (first character)
`,
                "tags": ["String", "Algorithm", "Hash Map"]
            },
            {
                "id": 99,
                "name": "Picking Up Stones",
                "description": "A game theory problem where two players pick up stones from a pile.",
                "test_cases": [
                    {
                        "description": "Simple win condition",
                        "input": "canWinStoneGame([5, 3, 4, 5])",
                        "expected_output": "true"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/picking-up-stones",
                "boilerplate": `function canWinStoneGame(piles) {
  // Your code here (Dynamic Programming or Minimax approach)
}

// Example usage:
console.log(canWinStoneGame([5, 3, 4, 5])); // Expected: true
console.log(canWinStoneGame([3, 7, 2, 3])); // Expected: true
console.log(canWinStoneGame([1, 2, 3, 4, 5, 6])); // Expected: true
console.log(canWinStoneGame([1, 100, 3])); // Expected: false (if optimal play leads to loss)
`,
                "tags": ["Algorithm", "Game Theory", "Dynamic Programming"]
            },
            {
                "id": 100,
                "name": "Create a Counter Object",
                "description": "Implement a counter object with `increment`, `decrement`, and `reset` methods.",
                "test_cases": [
                    {
                        "description": "Increment and get",
                        "input": "const counter = createCounter(5); counter.increment(); counter.get();",
                        "expected_output": "6"
                    },
                    {
                        "description": "Decrement and reset",
                        "input": "const counter = createCounter(10); counter.decrement(); counter.reset(); counter.get();",
                        "expected_output": "10"
                    }
                ],
                "link": "https://bigfrontend.dev/problem/create-a-counter-object",
                "boilerplate": `function createCounter(initialValue) {
  // Your code here
}

// Example usage:
const counter1 = createCounter(5);
console.log('Initial value:', counter1.get()); // Expected: 5
counter1.increment();
console.log('After increment:', counter1.get()); // Expected: 6
counter1.decrement();
console.log('After decrement:', counter1.get()); // Expected: 5
counter1.reset();
console.log('After reset:', counter1.get()); // Expected: 5

const counter2 = createCounter(0);
counter2.increment();
counter2.increment();
console.log('Counter 2 after increments:', counter2.get()); // Expected: 2
`,
                "tags": ["Object", "Design Pattern", "JavaScript"]
            }
        ];

        const questionsContainer = document.getElementById('questions-container');
        const filterControlsContainer = document.getElementById('filter-controls');
        let codeMirrorEditor; // To hold the CodeMirror instance
        const QUESTIONS_PER_PAGE = 10;
        let currentPage = 1;
        let activeTags = []; // Array to store currently active filter tags

        // Function to display the list of questions
        function displayQuestionsList(page = 1) {
            currentPage = page;
            questionsContainer.innerHTML = ''; // Clear current content

            let filteredQuestions = questionsData;

            // Apply tag filtering if activeTags is not empty
            if (activeTags.length > 0) {
                filteredQuestions = questionsData.filter(question =>
                    activeTags.every(tag => question.tags && question.tags.includes(tag))
                );
            }

            if (filteredQuestions.length === 0) {
                questionsContainer.innerHTML = '<p class="text-center text-gray-500">No questions to display matching your filters.</p>';
                renderFilterControls(); // Still render filter controls even if no questions
                return;
            }

            const startIndex = (currentPage - 1) * QUESTIONS_PER_PAGE;
            const endIndex = startIndex + QUESTIONS_PER_PAGE;
            const questionsToDisplay = filteredQuestions.slice(startIndex, endIndex);

            questionsToDisplay.forEach(question => {
                const questionCard = document.createElement('div');
                questionCard.className = 'bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer';
                questionCard.onclick = () => displayProblemDetails(question.id); // Click to view details

                // Question Name
                const nameElement = document.createElement('h2');
                nameElement.className = 'text-xl font-semibold text-gray-700 mb-2';
                nameElement.textContent = `${question.id}. ${question.name}`;
                questionCard.appendChild(nameElement);

                // Question Description
                const descriptionElement = document.createElement('p');
                descriptionElement.className = 'text-gray-600 mb-3';
                descriptionElement.textContent = question.description;
                questionCard.appendChild(descriptionElement);

                // Tags
                if (question.tags && question.tags.length > 0) {
                    const tagsDiv = document.createElement('div');
                    tagsDiv.className = 'flex flex-wrap gap-2 mt-2';
                    question.tags.forEach(tag => {
                        const tagSpan = document.createElement('span');
                        tagSpan.className = 'bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full cursor-pointer hover:bg-blue-200';
                        if (activeTags.includes(tag)) {
                            tagSpan.classList.add('bg-blue-500', 'text-white', 'hover:bg-blue-600');
                        }
                        tagSpan.textContent = tag;
                        tagSpan.onclick = (event) => {
                            event.stopPropagation(); // Prevent card click
                            toggleTagFilter(tag);
                        };
                        tagsDiv.appendChild(tagSpan);
                    });
                    questionCard.appendChild(tagsDiv);
                }

                questionsContainer.appendChild(questionCard);
            });

            renderFilterControls(); // Render filter controls (including selected tags)
            renderPaginationControls(filteredQuestions.length); // Pass filtered length for correct pagination
        }

        // Function to render filter controls (tags and clear button)
        function renderFilterControls() {
            filterControlsContainer.innerHTML = ''; // Clear previous controls

            const allTags = [...new Set(questionsData.flatMap(q => q.tags || []))].sort();

            // Display active filters
            if (activeTags.length > 0) {
                const activeFiltersLabel = document.createElement('span');
                activeFiltersLabel.className = 'text-gray-700 font-medium mr-2';
                activeFiltersLabel.textContent = 'Active Filters:';
                filterControlsContainer.appendChild(activeFiltersLabel);

                activeTags.forEach(tag => {
                    const activeTagSpan = document.createElement('span');
                    activeTagSpan.className = 'bg-blue-500 text-white text-xs font-medium px-2.5 py-0.5 rounded-full cursor-pointer hover:bg-blue-600 flex items-center gap-1';
                    activeTagSpan.innerHTML = `${tag} <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>`;
                    activeTagSpan.onclick = (event) => {
                        event.stopPropagation();
                        toggleTagFilter(tag);
                    };
                    filterControlsContainer.appendChild(activeTagSpan);
                });

                const clearButton = document.createElement('button');
                clearButton.className = 'ml-2 px-3 py-1 bg-red-100 text-red-800 text-sm rounded-md hover:bg-red-200';
                clearButton.textContent = 'Clear Filters';
                clearButton.onclick = clearAllFilters;
                filterControlsContainer.appendChild(clearButton);
            } else {
                const infoText = document.createElement('span');
                infoText.className = 'text-gray-500 text-sm';
                infoText.textContent = 'Click on tags below to filter:';
                filterControlsContainer.appendChild(infoText);
            }
        }

        // Function to toggle a tag in the activeTags array and re-render
        function toggleTagFilter(tag) {
            const tagIndex = activeTags.indexOf(tag);
            if (tagIndex > -1) {
                activeTags.splice(tagIndex, 1); // Remove tag
            } else {
                activeTags.push(tag); // Add tag
            }
            displayQuestionsList(1); // Reset to first page after filtering
        }

        // Function to clear all active filters
        function clearAllFilters() {
            activeTags = [];
            displayQuestionsList(1);
        }

        // Function to render pagination controls
        function renderPaginationControls(totalFilteredQuestions) {
            const totalPages = Math.ceil(totalFilteredQuestions / QUESTIONS_PER_PAGE);
            if (totalPages <= 1) return; // No pagination needed for 1 or less pages

            const paginationDiv = document.createElement('div');
            paginationDiv.className = 'flex justify-center items-center space-x-2 mt-8';

            // Previous button
            const prevButton = document.createElement('button');
            prevButton.className = `px-4 py-2 rounded-md ${currentPage === 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-blue-500 hover:bg-blue-600 text-white'}`;
            prevButton.textContent = 'Previous';
            prevButton.disabled = currentPage === 1;
            prevButton.onclick = () => displayQuestionsList(currentPage - 1);
            paginationDiv.appendChild(prevButton);

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.className = `px-4 py-2 rounded-md ${currentPage === i ? 'bg-blue-700 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`;
                pageButton.textContent = i;
                pageButton.onclick = () => displayQuestionsList(i);
                paginationDiv.appendChild(pageButton);
            }

            // Next button
            const nextButton = document.createElement('button');
            nextButton.className = `px-4 py-2 rounded-md ${currentPage === totalPages ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-blue-500 hover:bg-blue-600 text-white'}`;
            nextButton.textContent = 'Next';
            nextButton.disabled = currentPage === totalPages;
            nextButton.onclick = () => displayQuestionsList(currentPage + 1);
            paginationDiv.appendChild(nextButton);

            questionsContainer.appendChild(paginationDiv);
        }


        // Function to display details of a single problem
        function displayProblemDetails(questionId) {
            const question = questionsData.find(q => q.id === questionId);

            if (!question) {
                questionsContainer.innerHTML = '<p class="text-center text-red-500">Problem not found.</p>';
                return;
            }

            questionsContainer.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <button id="backToListBtn" class="mb-4 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors duration-200">
                        &larr; Back to List
                    </button>
                    <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">${question.id}. ${question.name}</h2>
                    <p class="text-gray-700 mb-6">${question.description}</p>

                    ${question.tags && question.tags.length > 0 ? `
                        <div class="flex flex-wrap gap-2 mb-4">
                            ${question.tags.map(tag => `<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${tag}</span>`).join('')}
                        </div>
                    ` : ''}

                    <h3 class="text-xl font-semibold text-gray-800 mb-3">Test Cases:</h3>
                    <div class="space-y-4 mb-6">
                        ${question.test_cases.map((test, index) => `
                            <div class="bg-gray-100 p-4 rounded-md border border-gray-200">
                                <p class="font-medium text-gray-700 mb-2">Test Case ${index + 1}: ${test.description}</p>
                                <div class="bg-gray-200 p-3 rounded-md text-sm font-mono text-gray-800 overflow-x-auto mb-2">
                                    <h4 class="font-semibold text-gray-600">Input:</h4>
                                    <pre>${test.input}</pre>
                                </div>
                                <div class="bg-gray-200 p-3 rounded-md text-sm font-mono text-gray-800 overflow-x-auto">
                                    <h4 class="font-semibold text-gray-600">Expected Output:</h4>
                                    <pre>${test.expected_output}</pre>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <h3 class="text-xl font-semibold text-gray-800 mb-3">Code Editor:</h3>
                    <textarea id="code-editor" class="w-full h-80 border border-gray-300 rounded-lg p-3 font-mono text-sm resize-y mb-4"></textarea>
                    <button id="run-code-btn" class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition-colors duration-200 shadow-md mt-4">
                        Run Code
                    </button>

                    <h3 class="text-xl font-semibold text-gray-800 mt-6 mb-3">Output:</h3>
                    <div id="code-output" class="bg-gray-800 text-green-400 p-4 rounded-lg font-mono text-sm overflow-auto h-40">
                        <!-- Code output will appear here -->
                        Run your code to see output.
                    </div>
                </div>
            `;

            // Initialize CodeMirror after the textarea is in the DOM
            const codeEditorElement = document.getElementById('code-editor');
            codeMirrorEditor = CodeMirror.fromTextArea(codeEditorElement, {
                mode: 'javascript',
                theme: 'dracula',
                lineNumbers: true,
                autoCloseBrackets: true,
                matchBrackets: true,
                styleActiveLine: true,
                indentUnit: 2,
                tabSize: 2,
                indentWithTabs: false
            });

            // Set boilerplate code for the current problem
            codeMirrorEditor.setValue(question.boilerplate || '// Write your JavaScript code here\nconsole.log("Hello, World!");');

            // Add event listener to the back button
            document.getElementById('backToListBtn').addEventListener('click', () => displayQuestionsList(currentPage));

            // Add event listener to the run code button
            document.getElementById('run-code-btn').addEventListener('click', () => runCode(codeMirrorEditor.getValue()));
        }

        // Function to run the user's code and display output
        function runCode(code) {
            const outputElement = document.getElementById('code-output');
            outputElement.textContent = ''; // Clear previous output

            // Capture console.log output
            const originalConsoleLog = console.log;
            const originalConsoleError = console.error;
            const logs = [];

            console.log = (...args) => {
                logs.push(args.map(arg => {
                    if (typeof arg === 'object' && arg !== null) {
                        try {
                            return JSON.stringify(arg, null, 2);
                        } catch (e) {
                            return String(arg); // Fallback for circular structures
                        }
                    }
                    return String(arg);
                }).join(' '));
            };
            console.error = (...args) => {
                logs.push(`ERROR: ${args.map(String).join(' ')}`);
            };

            try {
                // Execute the code in a sandboxed environment
                // Using new Function is safer than direct eval()
                new Function(code)();
            } catch (error) {
                logs.push(`RUNTIME ERROR: ${error.message}\n${error.stack}`);
            } finally {
                // Restore original console.log
                console.log = originalConsoleLog;
                console.error = originalConsoleError;

                // Display captured logs
                if (logs.length > 0) {
                    outputElement.textContent = logs.join('\n');
                } else {
                    outputElement.textContent = 'Code executed. No console output.';
                }
            }
        }

        // Initial load: display the first page of questions
        window.onload = () => displayQuestionsList(1);
    </script>
</body>
</html>
